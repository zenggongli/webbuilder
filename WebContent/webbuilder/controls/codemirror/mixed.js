var CodeMirror=(function(){function a9(dZ,d7){var L={},ag=a9.defaults;for(var eg in ag){if(ag.hasOwnProperty(eg)){L[eg]=(d7&&d7.hasOwnProperty(eg)?d7:ag)[eg]}}var ec=document.createElement("div");ec.className="CodeMirror"+(L.lineWrapping?" CodeMirror-wrap":"");ec.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scrollbar"><div class="CodeMirror-scrollbar-inner"></div></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><pre class="CodeMirror-cursor" style="visibility: hidden">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';if(dZ.appendChild){dZ.appendChild(ec)}else{dZ(ec)}var dO=ec.firstChild,aa=dO.firstChild,ae=ec.lastChild,cV=ae.firstChild,v=cV.firstChild,d9=v.firstChild,f=d9.firstChild,dI=d9.nextSibling.firstChild,cv=dI.firstChild,ca=cv.nextSibling,cp=ca.nextSibling,an=cp.nextSibling,dd=an.nextSibling,d1=dO.nextSibling,p=d1.firstChild;af();cb();if(bb){aa.style.width="0px"}if(!bo){ae.draggable=true}dI.style.outline="none";if(L.tabindex!=null){aa.tabIndex=L.tabindex}if(L.autofocus){dA()}if(!L.gutter&&!L.lineNumbers){d9.style.display="none"}if(bh){dO.style.height="1px",dO.style.position="absolute"}if(bp){d1.className+=(dC()?" cm-sb-overlap":" cm-sb-nonoverlap")}else{if(aW){d1.className+=" cm-sb-ie7"}}try{cg("x")}catch(D){if(D.message.match(/runtime/i)){D=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")}throw D}var E=new a2(),ej=new a2(),di;var A,bv=new bl([new aL([new bq("")])]),u,s;dW();var l={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var t,Q,d,dG=0,I=0,cc,cs=false,cj=false;var co,F,ee,dp,dU,ao,dN,al;var bz=0,df=0,da=0,cy=0;var G;var dv="",ac=false,S=true;var de={};cY(function(){h(L.value||"");co=false})();var ci=new bj();bc(ae,"mousedown",cY(r));bc(ae,"dblclick",cY(dP));bc(dI,"selectstart",at);if(!az){bc(ae,"contextmenu",b)}bc(ae,"scroll",dc);bc(d1,"scroll",dc);bc(d1,"mousedown",function(){setTimeout(dA,0)});bc(ae,"mousewheel",ek);bc(ae,"DOMMouseScroll",ek);bc(window,"resize",function(){y(true)});bc(aa,"keyup",cY(q));bc(aa,"input",dR);bc(aa,"keydown",cY(z));bc(aa,"keypress",cY(Z));bc(aa,"focus",o);bc(aa,"blur",eb);if(L.dragDrop){bc(ae,"dragstart",d8);function dx(bA){if(L.onDragEvent&&L.onDragEvent(C,ay(bA))){return}a7(bA)}bc(ae,"dragenter",dx);bc(ae,"dragover",dx);bc(ae,"drop",cY(dn))}bc(ae,"paste",function(){dA();dR()});bc(aa,"paste",dR);bc(aa,"cut",cY(function(){if(!L.readOnly){dK("")}}));if(bh){bc(cV,"mouseup",function(){if(document.activeElement==aa){aa.blur()}dA()})}var by;try{by=(document.activeElement==aa)}catch(D){}if(by||L.autofocus){setTimeout(o,20)}else{eb()}function P(bA){return bA>=0&&bA<bv.size}var C=ec.CodeMirror={getValue:K,setValue:cY(h),getSelection:J,replaceSelection:cY(dK),focus:function(){window.focus();dA();o();dR()},setOption:function(bB,bA){var bC=L[bB];L[bB]=bA;if(bB=="mode"||bB=="indentUnit"){dW()}else{if(bB=="readOnly"&&bA=="nocursor"){eb();aa.blur()}else{if(bB=="readOnly"&&!bA){ah(true)}else{if(bB=="theme"){af()}else{if(bB=="lineWrapping"&&bC!=bA){cY(W)()}else{if(bB=="tabSize"){y(true)}else{if(bB=="keyMap"){cb()}}}}}}}if(bB=="lineNumbers"||bB=="gutter"||bB=="firstLineNumber"||bB=="theme"){bx();y(true)}},getOption:function(bA){return L[bA]},undo:cY(cW),redo:cY(R),indentLine:cY(function(bA,bB){if(typeof bB!="string"){if(bB==null){bB=L.smartIndent?"smart":"prev"}else{bB=bB?"add":"subtract"}}if(P(bA)){dB(bA,bB)}}),indentSelection:cY(aj),historySize:function(){return{undo:ci.done.length,redo:ci.undone.length}},clearHistory:function(){ci=new bj()},matchBrackets:cY(function(){x(true)}),getTokenAt:cY(function(bA){bA=dM(bA);return Y(bA.line).getTokenAt(A,ce(bA.line),bA.ch)}),getStateAfter:function(bA){bA=N(bA==null?bv.size-1:bA);return ce(bA+1)},cursorCoords:function(bA,bB){if(bA==null){bA=l.inverted}return this.charCoords(bA?l.from:l.to,bB)},charCoords:function(bA,bB){bA=dM(bA);if(bB=="local"){return db(bA,false)}if(bB=="div"){return db(bA,true)}return dj(bA)},coordsChar:function(bB){var bA=aE(dI);return dm(bB.x-bA.left,bB.y-bA.top)},markText:cY(du),setBookmark:dL,findMarksAt:X,setMarker:cY(dS),clearMarker:cY(cx),setLineClass:cY(ad),hideLine:cY(function(bA){return dw(bA,true)}),showLine:cY(function(bA){return dw(bA,false)}),onDeleteLine:function(bB,bA){if(typeof bB=="number"){if(!P(bB)){return null}bB=Y(bB)}(bB.handlers||(bB.handlers=[])).push(bA);return bB},lineInfo:i,addWidget:function(bE,bG,bC,bF,bA){bE=db(dM(bE));var bD=bE.yBot,bH=bE.x;bG.style.position="absolute";cV.appendChild(bG);if(bF=="over"){bD=bE.y}else{if(bF=="near"){var bI=Math.max(ae.offsetHeight,bv.height*d5()),bB=Math.max(cV.clientWidth,dI.clientWidth)-cq();if(bE.yBot+bG.offsetHeight>bI&&bE.y>bG.offsetHeight){bD=bE.y-bG.offsetHeight}if(bH+bG.offsetWidth>bB){bH=bB-bG.offsetWidth}}}bG.style.top=(bD+cl())+"px";bG.style.left=bG.style.right="";if(bA=="right"){bH=cV.clientWidth-bG.offsetWidth;bG.style.right="0px"}else{if(bA=="left"){bH=0}else{if(bA=="middle"){bH=(cV.clientWidth-bG.offsetWidth)/2}}bG.style.left=(bH+cq())+"px"}if(bC){ef(bH,bD,bH+bG.offsetWidth,bD+bG.offsetHeight)}},lineCount:function(){return bv.size},clipPos:dM,getCursor:function(bA){if(bA==null){bA=l.inverted}return aY(bA?l.from:l.to)},somethingSelected:function(){return !aS(l.from,l.to)},setCursor:cY(function(bC,bA,bB){if(bA==null&&typeof bC.line=="number"){cn(bC.line,bC.ch,bB)}else{cn(bC,bA,bB)}}),setSelection:cY(function(bA,bB,bC){(bC?dD:dF)(dM(bA),dM(bB||bA))}),getLine:function(bA){if(P(bA)){return Y(bA).text}},getLineHandle:function(bA){if(P(bA)){return Y(bA)}},setLine:cY(function(bB,bA){if(P(bB)){d3(bA,{line:bB,ch:0},{line:bB,ch:Y(bB).text.length})}}),removeLine:cY(function(bA){if(P(bA)){d3("",{line:bA,ch:0},dM({line:bA+1,ch:0}))}}),replaceRange:cY(d3),getRange:function(bA,bB){return dk(dM(bA),dM(bB))},triggerOnKeyDown:cY(z),execCommand:function(bA){return aB[bA](C)},moveH:cY(ab),deleteH:cY(cu),moveV:cY(bw),toggleOverwrite:function(){if(cs){cs=false;ca.className=ca.className.replace(" CodeMirror-overwrite","")}else{cs=true;ca.className+=" CodeMirror-overwrite"}},posFromIndex:function(bB){var bA=0,bC;bv.iter(0,bv.size,function(bE){var bD=bE.text.length+1;if(bD>bB){bC=bB;return true}bB-=bD;++bA});return dM({line:bA,ch:bC})},indexFromPos:function(bA){if(bA.line<0||bA.ch<0){return 0}var bB=bA.ch;bv.iter(0,bA.line,function(bC){bB+=bC.text.length+1});return bB},scrollTo:function(bB,bA){if(bB!=null){ae.scrollLeft=bB}if(bA!=null){d1.scrollTop=bA}y([])},getScrollInfo:function(){return{x:ae.scrollLeft,y:d1.scrollTop,height:d1.scrollHeight,width:ae.scrollWidth}},operation:function(bA){return cY(bA)()},compoundChange:function(bA){return cw(bA)},refresh:function(){y(true);if(d1.scrollHeight>dG){d1.scrollTop=dG}},getInputField:function(){return aa},getWrapperElement:function(){return ec},getScrollerElement:function(){return ae},getGutterElement:function(){return d9}};function Y(bA){return aV(bv,bA)}function el(bC,bD){dN=true;var bB=bD-bC.height;for(var bA=bC;bA;bA=bA.parent){bA.height+=bB}}function h(bB){var bA={line:0,ch:0};dV(bA,{line:bv.size-1,ch:Y(bv.size-1).text.length},a0(bB),bA,bA);co=true}function K(){var bA=[];bv.iter(0,bv.size,function(bB){bA.push(bB.text)});return bA.join("\n")}function dc(bA){if(dG!=d1.scrollTop||I!=ae.scrollLeft){dG=d1.scrollTop;I=ae.scrollLeft;y([]);if(L.fixedGutter){d9.style.left=ae.scrollLeft+"px"}if(L.onScroll){L.onScroll(C)}}}function r(bC){ct(a5(bC,"shiftKey"));for(var bH=bk(bC);bH!=ec;bH=bH.parentNode){if(bH.parentNode==cV&&bH!=v){return}}for(var bH=bk(bC);bH!=ec;bH=bH.parentNode){if(bH.parentNode==f){if(L.onGutterClick){L.onGutterClick(C,bd(f.childNodes,bH)+df,bC)}return at(bC)}}var bL=a(bC);switch(a6(bC)){case 3:if(az&&!aA){b(bC)}return;case 2:if(bL){cn(bL.line,bL.ch,true)}setTimeout(dA,20);at(bC);return}if(!bL){if(bk(bC)==ae){at(bC)}return}if(!s){o()}var bK=+new Date;if(d&&d.time>bK-400&&aS(d.pos,bL)){at(bC);setTimeout(dA,20);return d6(bL.line)}else{if(Q&&Q.time>bK-400&&aS(Q.pos,bL)){d={time:bK,pos:bL};at(bC);return dl(bL)}else{Q={time:bK,pos:bL}}}var bA=bL,bJ;if(L.dragDrop&&aO&&!L.readOnly&&!aS(l.from,l.to)&&!a1(bL,l.from)&&!a1(l.to,bL)){if(bo){ae.draggable=true}function bG(bM){if(bo){ae.draggable=false}cc=false;bD();bI();if(Math.abs(bC.clientX-bM.clientX)+Math.abs(bC.clientY-bM.clientY)<10){at(bM);cn(bL.line,bL.ch,true);dA()}}var bD=bc(document,"mouseup",cY(bG),true);var bI=bc(ae,"drop",cY(bG),true);cc=true;if(ae.dragDrop){ae.dragDrop()}return}at(bC);cn(bL.line,bL.ch,true);function bB(bO){var bM=a(bO,true);if(bM&&!aS(bM,bA)){if(!s){o()}bA=bM;dD(bL,bM);co=false;var bN=dz();if(bM.line>=bN.to||bM.line<bN.from){bJ=setTimeout(cY(function(){bB(bO)}),150)}}}function bE(bN){clearTimeout(bJ);var bM=a(bN);if(bM){dD(bL,bM)}at(bN);dA();co=true;bF();bD()}var bF=bc(document,"mousemove",cY(function(bM){clearTimeout(bJ);at(bM);if(!aJ&&!a6(bM)){bE(bM)}else{bB(bM)}}),true);var bD=bc(document,"mouseup",cY(bE),true)}function dP(bC){for(var bA=bk(bC);bA!=ec;bA=bA.parentNode){if(bA.parentNode==f){return at(bC)}}var bB=a(bC);if(!bB){return}d={time:+new Date,pos:bB};at(bC);dl(bB)}function dn(bD){if(L.onDragEvent&&L.onDragEvent(C,ay(bD))){return}bD.preventDefault();var bA=a(bD,true),bG=bD.dataTransfer.files;if(!bA||L.readOnly){return}if(bG&&bG.length&&window.FileReader&&window.File){function bE(bI,bJ){var bK=new FileReader;bK.onload=function(){bC[bJ]=bK.result;if(++bF==bB){bA=dM(bA);cY(function(){var bL=d3(bC.join(""),bA,bA);dD(bA,bL)})()}};bK.readAsText(bI)}var bB=bG.length,bC=Array(bB),bF=0;for(var bH=0;bH<bB;++bH){bE(bG[bH],bH)}}else{if(cc&&!(a1(bA,l.from)||a1(l.to,bA))){return}try{var bC=bD.dataTransfer.getData("Text");if(bC){cw(function(){var bI=l.from,bJ=l.to;dD(bA,bA);if(cc){d3("",bI,bJ)}dK(bC);dA()})}}catch(bD){}}}function d8(bA){var bC=J();bA.dataTransfer.setData("Text",bC);if(az||aP||aC){var bB=document.createElement("img");bB.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=";bA.dataTransfer.setDragImage(bB,0,0)}}function ai(bB,bD){if(typeof bB=="string"){bB=aB[bB];if(!bB){return false}}var bC=t;try{if(L.readOnly){cj=true}if(bD){t=null}bB(C)}catch(bA){if(bA!=aX){throw bA}return false}finally{t=bC;cj=false}return true}function dt(bA){var bG=bs(L.keyMap),bD=bG.auto;clearTimeout(dy);if(bD&&!aw(bA)){dy=setTimeout(function(){if(bs(L.keyMap)==bG){L.keyMap=(bD.call?bD.call(null,C):bD)}},50)}var bF=av[a5(bA,"keyCode")],bB=false;if(bF==null||bA.altGraphKey){return false}if(a5(bA,"altKey")){bF="Alt-"+bF}if(a5(bA,"ctrlKey")){bF="Ctrl-"+bF}if(a5(bA,"metaKey")){bF="Cmd-"+bF}var bC=false;function bE(){bC=true}if(a5(bA,"shiftKey")){bB=bi("Shift-"+bF,L.extraKeys,L.keyMap,function(bH){return ai(bH,true)},bE)||bi(bF,L.extraKeys,L.keyMap,function(bH){if(typeof bH=="string"&&/^go[A-Z]/.test(bH)){return ai(bH)}},bE)}else{bB=bi(bF,L.extraKeys,L.keyMap,ai,bE)}if(bC){bB=false}if(bB){at(bA);dr();if(aJ){bA.oldKeyCode=bA.keyCode;bA.keyCode=0}}return bB}function O(bA,bC){var bB=bi("'"+bC+"'",L.extraKeys,L.keyMap,function(bD){return ai(bD,true)});if(bB){at(bA);dr()}return bB}var T=null,dy;function z(bA){if(!s){o()}if(aJ&&bA.keyCode==27){bA.returnValue=false}if(dJ){if(dg()){dJ=false}}if(L.onKeyEvent&&L.onKeyEvent(C,ay(bA))){return}var bC=a5(bA,"keyCode");ct(bC==16||a5(bA,"shiftKey"));var bB=dt(bA);if(aC){T=bB?bC:null;if(!bB&&bC==88&&a5(bA,aA?"metaKey":"ctrlKey")){dK("")}}}function Z(bA){if(dJ){dg()}if(L.onKeyEvent&&L.onKeyEvent(C,ay(bA))){return}var bB=a5(bA,"keyCode"),bD=a5(bA,"charCode");if(aC&&bB==T){T=null;at(bA);return}if(((aC&&(!bA.which||bA.which<10))||bh)&&dt(bA)){return}var bC=String.fromCharCode(bD==null?bB:bD);if(L.electricChars&&A.electricChars&&L.smartIndent&&!L.readOnly){if(A.electricChars.indexOf(bC)>-1){setTimeout(cY(function(){dB(l.to.line,"smart")}),75)}}if(O(bA,bC)){return}dR()}function q(bA){if(L.onKeyEvent&&L.onKeyEvent(C,ay(bA))){return}if(a5(bA,"keyCode")==16){t=null}}function o(){if(L.readOnly=="nocursor"){return}if(!s){if(L.onFocus){L.onFocus(C)}s=true;if(ae.className.search(/\bCodeMirror-focused\b/)==-1){ae.className+=" CodeMirror-focused"}if(!ao){ah(true)}}ds();dr()}function eb(){if(s){if(L.onBlur){L.onBlur(C)}s=false;if(G){cY(function(){if(G){G();G=null}})()}ae.className=ae.className.replace(" CodeMirror-focused","")}clearInterval(di);setTimeout(function(){if(!s){t=null}},150)}function n(bA){if(bA>0&&bA<1){return 1}else{if(bA>-1&&bA<0){return -1}else{return Math.round(bA)}}}function ek(bB){var bD=0,bE=0;if(bB.type=="DOMMouseScroll"){var bA=-bB.detail*8;if(bB.axis==bB.HORIZONTAL_AXIS){bD=bA}else{if(bB.axis==bB.VERTICAL_AXIS){bE=bA}}}else{if(bB.wheelDeltaX!==undefined&&bB.wheelDeltaY!==undefined){bD=bB.wheelDeltaX/3;bE=bB.wheelDeltaY/3}else{if(bB.wheelDelta!==undefined){bE=bB.wheelDelta/3}}}var bC=false;bD=n(bD);bE=n(bE);if((bD>0&&ae.scrollLeft>0)||(bD<0&&ae.scrollLeft+ae.clientWidth<ae.scrollWidth)){ae.scrollLeft-=bD;bC=true}if((bE>0&&d1.scrollTop>0)||(bE<0&&d1.scrollTop+d1.clientHeight<d1.scrollHeight)){d1.scrollTop-=bE;bC=true}if(bC){a7(bB)}}function dV(bA,bB,bC,bE,bF){if(cj){return}if(ci){var bD=[];bv.iter(bA.line,bB.line+1,function(bG){bD.push(bG.text)});ci.addChange(bA.line,bC.length,bD);while(ci.done.length>L.undoDepth){ci.done.shift()}}cX(bA,bB,bC,bE,bF)}function B(bD,bC){if(!bD.length){return}var bB=bD.pop(),bH=[];for(var bG=bB.length-1;bG>=0;bG-=1){var bE=bB[bG];var bA=[],bI=bE.start+bE.added;bv.iter(bE.start,bI,function(bJ){bA.push(bJ.text)});bH.push({start:bE.start,added:bE.old.length,old:bA});var bF={line:bE.start+bE.old.length-1,ch:ap(bA[bA.length-1],bE.old[bE.old.length-1])};cX({line:bE.start,ch:0},{line:bI-1,ch:Y(bI-1).text.length},bE.old,bF,bF)}co=true;bC.push(bH)}function cW(){B(ci.done,ci.undone)}function R(){B(ci.undone,ci.done)}function cX(bD,bS,bJ,bW,bH){if(cj){return}var bL=false,bT=dv.length;if(!L.lineWrapping){bv.iter(bD.line,bS.line+1,function(bX){if(!bX.hidden&&bX.text.length==bT){bL=true;return true}})}if(bD.line!=bS.line||bJ.length>1){dN=true}var bG=bS.line-bD.line,bI=Y(bD.line),bV=Y(bS.line);if(bD.ch==0&&bS.ch==0&&bJ[bJ.length-1]==""){var bM=[],bK=null;if(bD.line){bK=Y(bD.line-1);bK.fixMarkEnds(bV)}else{bV.fixMarkStarts()}for(var bB=0,bN=bJ.length-1;bB<bN;++bB){bM.push(bq.inheritMarks(bJ[bB],bK))}if(bG){bv.remove(bD.line,bG,al)}if(bM.length){bv.insert(bD.line,bM)}}else{if(bI==bV){if(bJ.length==1){bI.replace(bD.ch,bS.ch,bJ[0])}else{bV=bI.split(bS.ch,bJ[bJ.length-1]);bI.replace(bD.ch,null,bJ[0]);bI.fixMarkEnds(bV);var bM=[];for(var bB=1,bN=bJ.length-1;bB<bN;++bB){bM.push(bq.inheritMarks(bJ[bB],bI))}bM.push(bV);bv.insert(bD.line+1,bM)}}else{if(bJ.length==1){bI.replace(bD.ch,null,bJ[0]);bV.replace(null,bS.ch,"");bI.append(bV);bv.remove(bD.line+1,bG,al)}else{var bM=[];bI.replace(bD.ch,null,bJ[0]);bV.replace(null,bS.ch,bJ[bJ.length-1]);bI.fixMarkEnds(bV);for(var bB=1,bN=bJ.length-1;bB<bN;++bB){bM.push(bq.inheritMarks(bJ[bB],bI))}if(bG>1){bv.remove(bD.line+1,bG-1,al)}bv.insert(bD.line+1,bM)}}}if(L.lineWrapping){var bQ=Math.max(5,ae.clientWidth/ak()-3);bv.iter(bD.line,bD.line+bJ.length,function(bY){if(bY.hidden){return}var bX=Math.ceil(bY.text.length/bQ)||1;if(bX!=bY.height){el(bY,bX)}})}else{bv.iter(bD.line,bD.line+bJ.length,function(bX){var bY=bX.text;if(!bX.hidden&&bY.length>bT){dv=bY;bT=bY.length;S=true;bL=false}});if(bL){ac=true}}var bU=[],bO=bJ.length-bG-1;for(var bB=0,bE=u.length;bB<bE;++bB){var bA=u[bB];if(bA<bD.line){bU.push(bA)}else{if(bA>bS.line){bU.push(bA+bO)}}}var bC=bD.line+Math.min(bJ.length,500);U(bD.line,bC);bU.push(bC);u=bU;dq(100);ee.push({from:bD.line,to:bS.line+1,diff:bO});var bP={from:bD,to:bS,text:bJ};if(dp){for(var bR=dp;bR.next;bR=bR.next){}bR.next=bP}else{dp=bP}function bF(bX){return bX<=Math.min(bS.line,bS.line+bO)?bX:bX+bO}dF(dM(bW),dM(bH),bF(l.from.line),bF(l.to.line))}function cz(bB){var bD=d5(),bC=Math.floor(bv.height*bD+2*cl()),bA=ae.clientHeight;d1.style.height=bA+"px";if(ae.clientHeight){p.style.height=bC+"px"}if(bB!=null){d1.scrollTop=bB}v.style.top=(bz*bD-d1.scrollTop)+"px";d1.style.display=(bC>bA)?"block":"none"}function dC(){var bA=document.createElement("div"),bB=document.createElement("div");bA.className="CodeMirror-scrollbar";bA.style.cssText="position: absolute; left: -9999px; height: 100px;";bB.className="CodeMirror-scrollbar-inner";bB.style.height="200px";bA.appendChild(bB);document.body.appendChild(bA);var bC=(bA.offsetWidth<=1);document.body.removeChild(bA);return bC}function dE(){var bA=0;dv="";S=true;bv.iter(0,bv.size,function(bB){var bC=bB.text;if(!bB.hidden&&bC.length>bA){bA=bC.length;dv=bC}});ac=false}function d3(bD,bA,bB){bA=dM(bA);if(!bB){bB=bA}else{bB=dM(bB)}bD=a0(bD);function bC(bF){if(a1(bF,bA)){return bF}if(!a1(bB,bF)){return bE}var bH=bF.line+bD.length-(bB.line-bA.line)-1;var bG=bF.ch;if(bF.line==bB.line){bG+=bD[bD.length-1].length-(bB.ch-(bB.line==bA.line?bA.ch:0))}return{line:bH,ch:bG}}var bE;ed(bD,bA,bB,function(bF){bE=bF;return{from:bC(l.from),to:bC(l.to)}});return bE}function dK(bB,bA){ed(a0(bB),l.from,l.to,function(bC){if(bA=="end"){return{from:bC,to:bC}}else{if(bA=="start"){return{from:l.from,to:l.from}}else{return{from:l.from,to:bC}}}})}function ed(bC,bA,bB,bF){var bD=bC.length==1?bC[0].length+bA.ch:bC[bC.length-1].length;var bE=bF({line:bA.line+bC.length-1,ch:bD});dV(bA,bB,bC,bE.from,bE.to)}function dk(bA,bB){var bD=bA.line,bE=bB.line;if(bD==bE){return Y(bD).text.slice(bA.ch,bB.ch)}var bC=[Y(bD).text.slice(bA.ch)];bv.iter(bD+1,bE,function(bF){bC.push(bF.text)});bC.push(Y(bE).text.slice(0,bB.ch));return bC.join("\n")}function J(){return dk(l.from,l.to)}var dJ=false;function ds(){if(dJ){return}E.set(L.pollInterval,function(){dX();dg();if(s){ds()}eh()})}function dR(){var bB=false;dJ=true;function bA(){dX();var bC=dg();if(!bC&&!bB){bB=true;E.set(60,bA)}else{dJ=false;ds()}eh()}E.set(20,bA)}var cf="";function dg(){if(ao||!s||aQ(aa)||L.readOnly){return false}var bB=aa.value;if(bB==cf){return false}t=null;var bA=0,bC=Math.min(cf.length,bB.length);while(bA<bC&&cf[bA]==bB[bA]){++bA}if(bA<cf.length){l.from={line:l.from.line,ch:l.from.ch-(cf.length-bA)}}else{if(cs&&aS(l.from,l.to)){l.to={line:l.to.line,ch:Math.min(Y(l.to.line).text.length,l.to.ch+(bB.length-bA))}}}dK(bB.slice(bA),"end");if(bB.length>1000){aa.value=cf=""}else{cf=bB}return true}function ah(bA){if(!aS(l.from,l.to)){cf="";aa.value=J();bu(aa)}else{if(bA){cf=aa.value=""}}}function dA(){if(L.readOnly!="nocursor"){aa.focus()}}function j(){if(!ca.getBoundingClientRect){return}var bB=ca.getBoundingClientRect();if(aJ&&bB.top==bB.bottom){return}var bA=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(bB.top<0||bB.bottom>bA){w()}}function w(){var bA=d2();return ef(bA.x,bA.y,bA.x,bA.yBot)}function d2(){var bA=db(l.inverted?l.from:l.to);var bB=L.lineWrapping?Math.min(bA.x,dI.offsetWidth):bA.x;return{x:bB,y:bA.y,yBot:bA.yBot}}function ef(bD,bB,bF,bC){var bA=e(bD,bB,bF,bC),bE=false;if(bA.scrollLeft!=null){ae.scrollLeft=bA.scrollLeft;bE=true}if(bA.scrollTop!=null){d1.scrollTop=bA.scrollTop;bE=true}if(bE&&L.onScroll){L.onScroll(C)}}function e(bL,bF,bM,bG){var bI=cq(),bA=cl();bF+=bA;bG+=bA;bL+=bI;bM+=bI;var bD=ae.clientHeight,bK=d1.scrollTop,bB={};var bN=bF<cl()+10;if(bF<bK){bB.scrollTop=bN?0:Math.max(0,bF)}else{if(bG>bK+bD){bB.scrollTop=bG-bD}}var bE=ae.clientWidth,bC=ae.scrollLeft;var bH=L.fixedGutter?d9.clientWidth:0;var bJ=bL<bH+bI+10;if(bL<bC+bH||bJ){if(bJ){bL=0}bB.scrollLeft=Math.max(0,bL-10-bH)}else{if(bM>bE+bC-3){bB.scrollLeft=bM+10-bE}}return bB}function dz(bA){var bE=d5(),bB=(bA!=null?bA:d1.scrollTop)-cl();var bC=Math.max(0,Math.floor(bB/bE));var bD=Math.ceil((bB+ae.clientHeight)/bE);return{from:a4(bv,bC),to:a4(bv,bD)}}function y(bF,bJ,bL){if(!ae.clientWidth){df=da=bz=0;return}var bK=dz(bL);if(bF!==true&&bF.length==0&&bK.from>df&&bK.to<da){cz(bL);return}var bE=Math.max(bK.from-100,0),bD=Math.min(bv.size,bK.to+100);if(df<bE&&bE-df<20){bE=df}if(da>bD&&da-bD<20){bD=Math.min(bv.size,da)}var bA=bF===true?[]:M([{from:df,to:da,domStart:0}],bF);var bG=0;for(var bI=0;bI<bA.length;++bI){var bH=bA[bI];if(bH.from<bE){bH.domStart+=(bE-bH.from);bH.from=bE}if(bH.to>bD){bH.to=bD}if(bH.from>=bH.to){bA.splice(bI--,1)}else{bG+=bH.to-bH.from}}if(bG==bD-bE&&bE==df&&bD==da){cz(bL);return}bA.sort(function(bQ,bR){return bQ.domStart-bR.domStart});var bM=d5(),bP=d9.style.display;dd.style.display="none";dQ(bE,bD,bA);dd.style.display=d9.style.display="";var bN=bE!=df||bD!=da||cy!=ae.clientHeight+bM;if(bN){cy=ae.clientHeight+bM}df=bE;da=bD;bz=bn(bv,bE);if(dd.childNodes.length!=da-df){throw new Error("BAD PATCH! "+JSON.stringify(bA)+" size="+(da-df)+" nodes="+dd.childNodes.length)}function bC(){var bQ=dd.firstChild,bR=false;bv.iter(df,da,function(bT){if(!bT.hidden){var bS=Math.round(bQ.offsetHeight/bM)||1;if(bT.height!=bS){el(bT,bS);dN=bR=true}}bQ=bQ.nextSibling});return bR}if(L.lineWrapping){var bB=Math.floor(bv.height*bM+2*cl()),bO=ae.clientHeight;if(bB>bO){d1.style.display="block"}bC()}d9.style.display=bP;if(bN||dN){d4()&&L.lineWrapping&&bC()&&d4()}m();cz(bL);if(!bJ&&L.onUpdate){L.onUpdate(C)}return true}function M(bA,bC){for(var bF=0,bH=bC.length||0;bF<bH;++bF){var bD=bC[bF],bJ=[],bB=bD.diff||0;for(var bG=0,bI=bA.length;bG<bI;++bG){var bE=bA[bG];if(bD.to<=bE.from&&bD.diff){bJ.push({from:bE.from+bB,to:bE.to+bB,domStart:bE.domStart})}else{if(bD.to<=bE.from||bD.from>=bE.to){bJ.push(bE)}else{if(bD.from>bE.from){bJ.push({from:bE.from,to:bD.from,domStart:bE.domStart})}if(bD.to<bE.to){bJ.push({from:bD.to+bB,to:bE.to+bB,domStart:bE.domStart+(bD.to-bE.from)})}}}}bA=bJ}return bA}function dQ(bD,bC,bA){if(!bA.length){dd.innerHTML=""}else{function bM(bN){var bO=bN.nextSibling;bN.parentNode.removeChild(bN);return bO}var bI=0,bK=dd.firstChild,bL;for(var bH=0;bH<bA.length;++bH){var bB=bA[bH];while(bB.domStart>bI){bK=bM(bK);bI++}for(var bJ=0,bF=bB.to-bB.from;bJ<bF;++bJ){bK=bK.nextSibling;bI++}}while(bK){bK=bM(bK)}}var bG=bA.shift(),bK=dd.firstChild,bJ=bD;var bE=document.createElement("div");bv.iter(bD,bC,function(bO){if(bG&&bG.to==bJ){bG=bA.shift()}if(!bG||bG.from>bJ){if(bO.hidden){var bN=bE.innerHTML="<pre></pre>"}else{var bN="<pre"+(bO.className?' class="'+bO.className+'"':"")+">"+bO.getHTML(ch)+"</pre>";if(bO.bgClassName){bN='<div style="position: relative"><pre class="'+bO.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+bN+"</div>"}}bE.innerHTML=bN;dd.insertBefore(bE.firstChild,bK)}else{bK=bK.nextSibling}++bJ})}function d4(){if(!L.gutter&&!L.lineNumbers){return}var bI=v.offsetHeight,bA=ae.clientHeight;d9.style.height=(bI-bA<2?bA:bI)+"px";var bC=[],bE=df,bB;bv.iter(df,Math.max(da,df+1),function(bM){if(bM.hidden){bC.push("<pre></pre>")}else{var bN=bM.gutterMarker;var bK=L.lineNumbers?bE+L.firstLineNumber:null;if(bN&&bN.text){bK=bN.text.replace("%N%",bK!=null?bK:"")}else{if(bK==null){bK="\u00a0"}}bC.push((bN&&bN.style?'<pre class="'+bN.style+'">':"<pre>"),bK);for(var bL=1;bL<bM.height;++bL){bC.push("<br/>&#160;")}bC.push("</pre>");if(!bN){bB=bE}}++bE});d9.style.display="none";f.innerHTML=bC.join("");if(bB!=null&&L.lineNumbers){var bG=f.childNodes[bB-df];var bF=String(bv.size).length,bJ=aK(bG.firstChild),bH="";while(bJ.length+bH.length<bF){bH+="\u00a0"}if(bH){bG.insertBefore(document.createTextNode(bH),bG.firstChild)}}d9.style.display="";var bD=Math.abs((parseInt(dI.style.marginLeft)||0)-d9.offsetWidth)>2;dI.style.marginLeft=d9.offsetWidth+"px";dN=false;return bD}function m(){var bL=aS(l.from,l.to);var bA=db(l.from,true);var bF=bL?bA:db(l.to,true);var bH=l.inverted?bA:bF,bN=d5();var bO=aE(ec),bM=aE(dd);dO.style.top=Math.max(0,Math.min(ae.offsetHeight,bH.y+bM.top-bO.top))+"px";dO.style.left=Math.max(0,Math.min(ae.offsetWidth,bH.x+bM.left-bO.left))+"px";if(bL){ca.style.top=bH.y+"px";ca.style.left=(L.lineWrapping?Math.min(bH.x,dI.offsetWidth):bH.x)+"px";ca.style.display="";an.style.display="none"}else{var bC=bA.y==bF.y,bJ="";var bE=dI.clientWidth||dI.offsetWidth;var bI=dI.clientHeight||dI.offsetHeight;function bB(bS,bP,bQ,bT){var bR=aR?"width: "+(!bQ?bE:bE-bQ-bS)+"px":"right: "+bQ+"px";bJ+='<div class="CodeMirror-selected" style="position: absolute; left: '+bS+"px; top: "+bP+"px; "+bR+"; height: "+bT+'px"></div>'}if(l.from.ch&&bA.y>=0){var bD=bC?bE-bF.x:0;bB(bA.x,bA.y,bD,bN)}var bK=Math.max(0,bA.y+(l.from.ch?bN:0));var bG=Math.min(bF.y,bI)-bK;if(bG>0.2*bN){bB(0,bK,0,bG)}if((!bC||!l.from.ch)&&bF.y<bI-0.5*bN){bB(0,bF.y,bE-bF.x,bN)}an.innerHTML=bJ;ca.style.display="none";an.style.display=""}}function ct(bA){if(bA){t=t||(l.inverted?l.to:l.from)}else{t=null}}function dD(bA,bB){var bC=t&&dM(t);if(bC){if(a1(bC,bA)){bA=bC}else{if(a1(bB,bC)){bB=bC}}}dF(bA,bB);F=true}function dF(bA,bB,bH,bC){cd=null;if(bH==null){bH=l.from.line;bC=l.to.line}if(aS(l.from,bA)&&aS(l.to,bB)){return}if(a1(bB,bA)){var bE=bB;bB=bA;bA=bE}if(bA.line!=bH){var bD=d0(bA,bH,l.from.ch);if(!bD){dw(bA.line,false)}else{bA=bD}}if(bB.line!=bC){bB=d0(bB,bC,l.to.ch)}if(aS(bA,bB)){l.inverted=false}else{if(aS(bA,l.to)){l.inverted=false}else{if(aS(bB,l.from)){l.inverted=true}}}if(L.autoClearEmptyLines&&aS(l.from,l.to)){var bF=l.inverted?bA:bB;if(bF.line!=l.from.line&&l.from.line<bv.size){var bG=Y(l.from.line);if(/^\s+$/.test(bG.text)){setTimeout(cY(function(){if(bG.parent&&/^\s+$/.test(bG.text)){var bI=a3(bG);d3("",{line:bI,ch:0},{line:bI,ch:bG.text.length})}},10))}}}l.from=bA;l.to=bB;dU=true}function d0(bA,bE,bD){function bB(bK){var bI=bA.line+bK,bG=bK==1?bv.size:-1;while(bI!=bG){var bH=Y(bI);if(!bH.hidden){var bJ=bA.ch;if(bC||bJ>bD||bJ>bH.text.length){bJ=bH.text.length}return{line:bI,ch:bJ}}bI+=bK}}var bF=Y(bA.line);var bC=bA.ch==bF.text.length&&bA.ch!=bD;if(!bF.hidden){return bA}if(bA.line>=bE){return bB(1)||bB(-1)}else{return bB(-1)||bB(1)}}function cn(bD,bB,bC){var bA=dM({line:bD,ch:bB||0});(bC?dD:dF)(bA,bA)}function N(bA){return Math.max(0,Math.min(bA,bv.size-1))}function dM(bA){if(bA.line<0){return{line:0,ch:0}}if(bA.line>=bv.size){return{line:bv.size-1,ch:Y(bv.size-1).text.length}}var bC=bA.ch,bB=Y(bA.line).text.length;if(bC==null||bC>bB){return{line:bA.line,ch:bB}}else{if(bC<0){return{line:bA.line,ch:0}}else{return bA}}}function cr(bF,bB){var bE=l.inverted?l.from:l.to,bA=bE.line,bI=bE.ch;var bC=Y(bA);function bH(){for(var bL=bA+bF,bJ=bF<0?-1:bv.size;bL!=bJ;bL+=bF){var bK=Y(bL);if(!bK.hidden){bA=bL;bC=bK;return true}}}function bD(bJ){if(bI==(bF<0?0:bC.text.length)){if(!bJ&&bH()){bI=bF<0?bC.text.length:0}else{return false}}else{bI+=bF}return true}if(bB=="char"){bD()}else{if(bB=="column"){bD(true)}else{if(bB=="word"){var bG=false;for(;;){if(bF<0){if(!bD()){break}}if(aM(bC.text.charAt(bI))){bG=true}else{if(bG){if(bF<0){bF=1;bD()}break}}if(bF>0){if(!bD()){break}}}}}}return{line:bA,ch:bI}}function ab(bC,bB){var bA=bC<0?l.from:l.to;if(t||aS(l.from,l.to)){bA=cr(bC,bB)}cn(bA.line,bA.ch,true)}function cu(bB,bA){if(!aS(l.from,l.to)){d3("",l.from,l.to)}else{if(bB<0){d3("",cr(bB,bA),l.to)}else{d3("",l.from,cr(bB,bA))}}F=true}var cd=null;function bw(bE,bD){var bB=0,bA=db(l.inverted?l.from:l.to,true);if(cd!=null){bA.x=cd}if(bD=="page"){bB=Math.min(ae.clientHeight,window.innerHeight||document.documentElement.clientHeight)}else{if(bD=="line"){bB=d5()}}var bC=dm(bA.x,bA.y+bB*bE+2);if(bD=="page"){d1.scrollTop+=db(bC,true).y-bA.y}cn(bC.line,bC.ch,true);cd=bA.x}function dl(bA){var bC=Y(bA.line).text;var bB=bA.ch,bD=bA.ch;while(bB>0&&aM(bC.charAt(bB-1))){--bB}while(bD<bC.length&&aM(bC.charAt(bD))){++bD}dD({line:bA.line,ch:bB},{line:bA.line,ch:bD})}function d6(bA){dD({line:bA,ch:0},dM({line:bA+1,ch:0}))}function aj(bA){if(aS(l.from,l.to)){return dB(l.from.line,bA)}var bB=l.to.line-(l.to.ch?0:1);for(var bC=l.from.line;bC<=bB;++bC){dB(bC,bA)}}function dB(bI,bB){if(!bB){bB="add"}if(bB=="smart"){if(!A.indent){bB="prev"}else{var bK=ce(bI)}}var bA=Y(bI),bG=bA.indentation(L.tabSize),bJ=bA.text.match(/^\s*/)[0],bE;if(bB=="smart"){bE=A.indent(bK,bA.text.slice(bJ.length),bA.text);if(bE==aX){bB="prev"}}if(bB=="prev"){if(bI){bE=Y(bI-1).indentation(L.tabSize)}else{bE=0}}else{if(bB=="add"){bE=bG+L.indentUnit}else{if(bB=="subtract"){bE=bG-L.indentUnit}}}bE=Math.max(0,bE);var bC=bE-bG;if(!bC){if(l.from.line!=bI&&l.to.line!=bI){return}var bD=bJ}else{var bD="",bF=0;if(L.indentWithTabs){for(var bH=Math.floor(bE/L.tabSize);bH;--bH){bF+=L.tabSize;bD+="\t"}}while(bF<bE){++bF;bD+=" "}}d3(bD,{line:bI,ch:0},{line:bI,ch:bJ.length})}function dW(){A=a9.getMode(L,L.mode);bv.iter(0,bv.size,function(bA){bA.stateAfter=null});u=[0];dq()}function bx(){var bA=L.gutter||L.lineNumbers;d9.style.display=bA?"":"none";if(bA){dN=true}else{dd.parentNode.style.marginLeft=0}}function W(bA,bB){if(L.lineWrapping){ec.className+=" CodeMirror-wrap";var bC=ae.clientWidth/ak()-3;bv.iter(0,bv.size,function(bE){if(bE.hidden){return}var bD=Math.ceil(bE.text.length/bC)||1;if(bD!=1){el(bE,bD)}});dI.style.width=cV.style.width="";cp.style.left=""}else{ec.className=ec.className.replace(" CodeMirror-wrap","");dv="";S=true;bv.iter(0,bv.size,function(bD){if(bD.height!=1&&!bD.hidden){el(bD,1)}if(bD.text.length>dv.length){dv=bD.text}})}ee.push({from:0,to:bv.size})}function ch(bD){var bE=L.tabSize-bD%L.tabSize,bB=de[bE];if(bB){return bB}for(var bA='<span class="cm-tab">',bC=0;bC<bE;++bC){bA+=" "}return(de[bE]={html:bA+"</span>",width:bE})}function af(){ae.className=ae.className.replace(/\s*cm-s-\S+/g,"")+L.theme.replace(/(^|\s)\s*/g," cm-s-")}function cb(){var bA=a8[L.keyMap].style;ec.className=ec.className.replace(/\s*cm-keymap-\S+/g,"")+(bA?" cm-keymap-"+bA:"")}function k(){this.set=[]}k.prototype.clear=cY(function(){var bC=Infinity,bG=-Infinity;for(var bD=0,bA=this.set.length;bD<bA;++bD){var bF=this.set[bD],bH=bF.marked;if(!bH||!bF.parent){continue}var bB=a3(bF);bC=Math.min(bC,bB);bG=Math.max(bG,bB);for(var bE=0;bE<bH.length;++bE){if(bH[bE].marker==this){bH.splice(bE--,1)}}}if(bC!=Infinity){ee.push({from:bC,to:bG+1})}});k.prototype.find=function(){var bD,bC;for(var bG=0,bE=this.set.length;bG<bE;++bG){var bA=this.set[bG],bF=bA.marked;for(var bH=0;bH<bF.length;++bH){var bI=bF[bH];if(bI.marker==this){if(bI.from!=null||bI.to!=null){var bB=a3(bA);if(bB!=null){if(bI.from!=null){bD={line:bB,ch:bI.from}}if(bI.to!=null){bC={line:bB,ch:bI.to}}}}}}}return{from:bD,to:bC}};function du(bA,bB,bE){bA=dM(bA);bB=dM(bB);var bG=new k();if(!a1(bA,bB)){return bG}function bC(bH,bI,bJ,bK){Y(bH).addMark(new aF(bI,bJ,bK,bG))}if(bA.line==bB.line){bC(bA.line,bA.ch,bB.ch,bE)}else{bC(bA.line,bA.ch,null,bE);for(var bF=bA.line+1,bD=bB.line;bF<bD;++bF){bC(bF,null,null,bE)}bC(bB.line,null,bB.ch,bE)}ee.push({from:bA.line,to:bB.line+1});return bG}function dL(bA){bA=dM(bA);var bB=new aN(bA.ch);Y(bA.line).addMark(bB);return bB}function X(bA){bA=dM(bA);var bB=[],bD=Y(bA.line).marked;if(!bD){return bB}for(var bE=0,bC=bD.length;bE<bC;++bE){var bF=bD[bE];if((bF.from==null||bF.from<=bA.ch)&&(bF.to==null||bF.to>=bA.ch)){bB.push(bF.marker||bF)}}return bB}function dS(bC,bA,bB){if(typeof bC=="number"){bC=Y(N(bC))}bC.gutterMarker={text:bA,style:bB};dN=true;return bC}function cx(bA){if(typeof bA=="number"){bA=Y(N(bA))}bA.gutterMarker=null;dN=true}function g(bC,bA){var bB=bC,bD=bC;if(typeof bC=="number"){bD=Y(N(bC))}else{bB=a3(bC)}if(bB==null){return null}if(bA(bD,bB)){ee.push({from:bB,to:bB+1})}else{return null}return bD}function ad(bB,bC,bA){return g(bB,function(bD){if(bD.className!=bC||bD.bgClassName!=bA){bD.className=bC;bD.bgClassName=bA;return true}})}function dw(bA,bB){return g(bA,function(bG,bD){if(bG.hidden!=bB){bG.hidden=bB;if(!L.lineWrapping){var bH=bG.text;if(bB&&bH.length==dv.length){ac=true}else{if(!bB&&bH.length>dv.length){dv=bH;maxWidth=null;ac=false}}}el(bG,bB?0:1);var bE=l.from.line,bF=l.to.line;if(bB&&(bE==bD||bF==bD)){var bI=bE==bD?d0({line:bE,ch:0},bE,0):l.from;var bC=bF==bD?d0({line:bF,ch:0},bF,0):l.to;if(!bC){return}dF(bI,bC)}return(dN=true)}})}function i(bB){if(typeof bB=="number"){if(!P(bB)){return null}var bA=bB;bB=Y(bB);if(!bB){return null}}else{var bA=a3(bB);if(bA==null){return null}}var bC=bB.gutterMarker;return{line:bA,handle:bB,text:bB.text,markerText:bC&&bC.text,markerClass:bC&&bC.style,lineClass:bB.className,bgClass:bB.bgClassName}}function cg(bA){cv.innerHTML="<pre><span>x</span></pre>";cv.firstChild.firstChild.firstChild.nodeValue=bA;return cv.firstChild.firstChild.offsetWidth||10}function ea(bA,bG){if(bG<=0){return 0}var bJ=Y(bA),bD=bJ.text;function bC(bN){return H(bJ,bN).left}var bF=0,bH=0,bE=bD.length,bI;var bL=Math.min(bE,Math.ceil(bG/ak()));for(;;){var bK=bC(bL);if(bK<=bG&&bL<bE){bL=Math.min(bE,Math.ceil(bL*1.2))}else{bI=bK;bE=bL;break}}if(bG>bI){return bE}bL=Math.floor(bE*0.8);bK=bC(bL);if(bK<bG){bF=bL;bH=bK}for(;;){if(bE-bF<=1){return(bI-bG>bG-bH)?bF:bE}var bB=Math.ceil((bF+bE)/2),bM=bC(bB);if(bM>bG){bE=bB;bI=bM}else{bF=bB;bH=bM}}}var am="CodeMirror-temp-"+Math.floor(Math.random()*16777215).toString(16);function H(bF,bC){if(bC==0){return{top:0,left:0}}var bG=L.lineWrapping&&bC<bF.text.length&&bf.test(bF.text.slice(bC-1,bC+1));cv.innerHTML="<pre>"+bF.getHTML(ch,bC,am,bG)+"</pre>";var bD=document.getElementById(am);var bA=bD.offsetTop,bB=bD.offsetLeft;if(aJ&&bA==0&&bB==0){var bE=document.createElement("span");bE.innerHTML="x";bD.parentNode.insertBefore(bE,bD.nextSibling);bA=bE.offsetTop}return{top:bA,left:bB}}function db(bA,bC){var bF,bE=d5(),bB=bE*(bn(bv,bA.line)-(bC?bz:0));if(bA.ch==0){bF=0}else{var bD=H(Y(bA.line),bA.ch);bF=bD.left;if(L.lineWrapping){bB+=Math.max(0,bD.top)}}return{x:bF,y:bB,yBot:bB+bE}}function dm(bJ,bK){if(bK<0){bK=0}var bM=d5(),bO=ak(),bD=bz+Math.floor(bK/bM);var bI=a4(bv,bD);if(bI>=bv.size){return{line:bv.size-1,ch:Y(bv.size-1).text.length}}var bR=Y(bI),bG=bR.text;var bB=L.lineWrapping,bL=bB?bD-bn(bv,bI):0;if(bJ<=0&&bL==0){return{line:bI,ch:0}}function bC(bV){var bU=H(bR,bV);if(bB){var bT=Math.round(bU.top/bM);return Math.max(0,bU.left+(bT-bL)*ae.clientWidth)}return bU.left}var bE=0,bF=0,bQ=bG.length,bS;var bH=Math.min(bQ,Math.ceil((bJ+bL*ae.clientWidth*0.9)/bO));for(;;){var bN=bC(bH);if(bN<=bJ&&bH<bQ){bH=Math.min(bQ,Math.ceil(bH*1.2))}else{bS=bN;bQ=bH;break}}if(bJ>bS){return{line:bI,ch:bQ}}bH=Math.floor(bQ*0.8);bN=bC(bH);if(bN<bJ){bE=bH;bF=bN}for(;;){if(bQ-bE<=1){return{line:bI,ch:(bS-bJ>bJ-bF)?bE:bQ}}var bA=Math.ceil((bE+bQ)/2),bP=bC(bA);if(bP>bJ){bQ=bA;bS=bP}else{bE=bA;bF=bP}}}function dj(bA){var bC=db(bA,true),bB=aE(dI);return{x:bB.left+bC.x,y:bB.top+bC.y,yBot:bB.top+bC.yBot}}var c,ei,dT;function d5(){if(dT==null){dT="<pre>";for(var bA=0;bA<49;++bA){dT+="x<br/>"}dT+="x</pre>"}var bB=dd.clientHeight;if(bB==ei){return c}ei=bB;cv.innerHTML=dT;c=cv.firstChild.offsetHeight/50||1;cv.innerHTML="";return c}var cZ,dH=0;function ak(){if(ae.clientWidth==dH){return cZ}dH=ae.clientWidth;return(cZ=cg("x"))}function cl(){return dI.offsetTop}function cq(){return dI.offsetLeft}function a(bB,bC){var bD=aE(ae,true),bF,bA;try{bF=bB.clientX;bA=bB.clientY}catch(bB){return null}if(!bC&&(bF-bD.left>ae.clientWidth||bA-bD.top>ae.clientHeight)){return null}var bE=aE(dI,true);return dm(bF-bE.left,bA-bE.top)}function b(bF){var bA=a(bF),bB=d1.scrollTop;if(!bA||aC){return}if(aS(l.from,l.to)||a1(bA,l.from)||!a1(bA,l.to)){cY(cn)(bA.line,bA.ch)}var bC=aa.style.cssText;dO.style.position="absolute";aa.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(bF.clientY-5)+"px; left: "+(bF.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";ao=true;var bD=aa.value=J();dA();bu(aa);function bG(){var bH=a0(aa.value).join("\n");if(bH!=bD&&!L.readOnly){cY(dK)(bH,"end")}dO.style.position="relative";aa.style.cssText=bC;if(aZ){d1.scrollTop=bB}ao=false;ah(true);ds()}if(az){a7(bF);var bE=bc(window,"mouseup",function(){bE();setTimeout(bG,20)},true)}else{setTimeout(bG,50)}}function dr(){clearInterval(di);var bA=true;ca.style.visibility="";di=setInterval(function(){ca.style.visibility=(bA=!bA)?"":"hidden"},650)}var V={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function x(bO){var bU=l.inverted?l.from:l.to,bM=Y(bU.line),bT=bU.ch-1;var bP=(bT>=0&&V[bM.text.charAt(bT)])||V[bM.text.charAt(++bT)];if(!bP){return}var bK=bP.charAt(0),bN=bP.charAt(1)==">",bL=bN?1:-1,bE=bM.styles;for(var bJ=bT+1,bC=0,bA=bE.length;bC<bA;bC+=2){if((bJ-=bE[bC].length)<=0){var bB=bE[bC+1];break}}var bR=[bM.text.charAt(bT)],bF=/[(){}[\]]/;function bH(b2,bV,b6){if(!b2.text){return}var b3=b2.styles,bW=bN?0:b2.text.length-1,b5;for(var bZ=bN?0:b3.length-2,bX=bN?b3.length:-2;bZ!=bX;bZ+=2*bL){var b4=b3[bZ];if(b3[bZ+1]!=bB){bW+=bL*b4.length;continue}for(var b0=bN?0:b4.length-1,b1=bN?b4.length:-1;b0!=b1;b0+=bL,bW+=bL){if(bW>=bV&&bW<b6&&bF.test(b5=b4.charAt(b0))){var bY=V[b5];if(bY.charAt(1)==">"==bN){bR.push(b5)}else{if(bR.pop()!=bY.charAt(0)){return{pos:bW,match:false}}else{if(!bR.length){return{pos:bW,match:true}}}}}}}}for(var bC=bU.line,bA=bN?Math.min(bC+100,bv.size):Math.max(-1,bC-100);bC!=bA;bC+=bL){var bM=Y(bC),bQ=bC==bU.line;var bI=bH(bM,bQ&&bN?bT+1:0,bQ&&!bN?bT:bM.text.length);if(bI){break}}if(!bI){bI={pos:null,match:false}}var bB=bI.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var bD=du({line:bU.line,ch:bT},{line:bU.line,ch:bT+1},bB),bS=bI.pos!=null&&du({line:bC,ch:bI.pos},{line:bC,ch:bI.pos+1},bB);var bG=cY(function(){bD.clear();bS&&bS.clear()});if(bO){setTimeout(bG,800)}else{G=bG}}function ck(bA){var bB,bE;for(var bF=bA,bD=bA-40;bF>bD;--bF){if(bF==0){return 0}var bG=Y(bF-1);if(bG.stateAfter){return bF}var bC=bG.indentation(L.tabSize);if(bE==null||bB>bC){bE=bF-1;bB=bC}}return bE}function ce(bA){var bB=ck(bA),bC=bB&&Y(bB-1).stateAfter;if(!bC){bC=aq(A)}else{bC=be(A,bC)}bv.iter(bB,bA,function(bD){bD.highlight(A,bC,L.tabSize);bD.stateAfter=be(A,bC)});if(bB<bA){ee.push({from:bB,to:bA})}if(bA<bv.size&&!Y(bA).stateAfter){u.push(bA)}return bC}function U(bA,bC){var bB=ce(bA);bv.iter(bA,bC,function(bD){bD.highlight(A,bB,L.tabSize);bD.stateAfter=be(A,bB)})}function dY(){var bD=+new Date+L.workTime;var bA=u.length;while(u.length){if(!Y(df).stateAfter){var bG=df}else{var bG=u.pop()}if(bG>=bv.size){continue}var bI=ck(bG),bJ=bI&&Y(bI-1).stateAfter;if(bJ){bJ=be(A,bJ)}else{bJ=aq(A)}var bE=0,bH=A.compareStates,bB=false,bC=bI,bF=false;bv.iter(bC,bv.size,function(bN){var bM=bN.stateAfter;if(+new Date>bD){u.push(bC);dq(L.workDelay);if(bB){ee.push({from:bG,to:bC+1})}return(bF=true)}var bL=bN.highlight(A,bJ,L.tabSize);if(bL){bB=true}bN.stateAfter=be(A,bJ);var bO=null;if(bH){var bK=bM&&bH(bM,bJ);if(bK!=aX){bO=!!bK}}if(bO==null){if(bL!==false||!bM){bE=0}else{if(++bE>3&&(!A.indent||A.indent(bM,"")==A.indent(bJ,""))){bO=true}}}if(bO){return true}++bC});if(bF){return}if(bB){ee.push({from:bG,to:bC+1})}}if(bA&&L.onHighlightComplete){L.onHighlightComplete(C)}}function dq(bA){if(!u.length){return}ej.set(bA,cY(dY))}function dX(){co=F=dp=null;ee=[];dU=false;al=[]}function eh(){if(ac){dE()}if(S&&!L.lineWrapping){cp.style.left=cg(dv)+"px";S=false}var bC,bF;if(dU){var bB=d2();bC=e(bB.x,bB.y,bB.x,bB.yBot)}if(ee.length){bF=y(ee,true,(bC?bC.scrollTop:null))}else{if(dU){m()}if(dN){d4()}}if(bC){w()}if(dU){j();dr()}if(s&&!ao&&(co===true||(co!==false&&dU))){ah(F)}if(dU&&L.matchBrackets){setTimeout(cY(function(){if(G){G();G=null}if(aS(l.from,l.to)){x(false)}}),20)}var bA=dU,bE=al;if(dp&&L.onChange&&C){L.onChange(C,dp)}if(bA&&L.onCursorActivity){L.onCursorActivity(C)}for(var bD=0;bD<bE.length;++bD){bE[bD](C)}if(bF&&L.onUpdate){L.onUpdate(C)}}var cm=0;function cY(bA){return function(){if(!cm++){dX()}try{var bB=bA.apply(this,arguments)}finally{if(!--cm){eh()}}return bB}}function cw(bA){ci.startCompound();try{return bA()}finally{ci.endCompound()}}for(var dh in aU){if(aU.propertyIsEnumerable(dh)&&!C.propertyIsEnumerable(dh)){C[dh]=aU[dh]}}return C}a9.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,smartIndent:true,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,autoClearEmptyLines:false,onKeyEvent:null,onDragEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,dragDrop:true,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var bb=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var aA=bb||/Mac/.test(navigator.platform);var ar=/Win/.test(navigator.platform);var aG=a9.modes={},au=a9.mimeModes={};a9.defineMode=function(c,a){if(!a9.defaults.mode&&c!="null"){a9.defaults.mode=c}if(arguments.length>2){a.dependencies=[];for(var b=2;b<arguments.length;++b){a.dependencies.push(arguments[b])}}aG[c]=a};a9.defineMIME=function(a,b){au[a]=b};a9.resolveMode=function(a){if(typeof a=="string"&&au.hasOwnProperty(a)){a=au[a]}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a)){return a9.resolveMode("application/xml")}}if(typeof a=="string"){return{name:a}}else{return a||{name:"null"}}};a9.getMode=function(b,c){var c=a9.resolveMode(c);var a=aG[c.name];if(!a){return a9.getMode(b,"text/plain")}return a(b,c)};a9.listModes=function(){var a=[];for(var b in aG){if(aG.propertyIsEnumerable(b)){a.push(b)}}return a};a9.listMIMEs=function(){var a=[];for(var b in au){if(au.propertyIsEnumerable(b)){a.push({mime:b,mode:au[b]})}}return a};var aU=a9.extensions={};a9.defineExtension=function(b,a){aU[b]=a};var aB=a9.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(d){var a=d.getCursor(true),b=d.getCursor(false),c=!aS(a,b);if(!c&&d.getLine(a.line).length==a.ch){d.replaceRange("",a,{line:a.line+1,ch:0})}else{d.replaceRange("",a,c?b:{line:a.line})}},deleteLine:function(b){var a=b.getCursor().line;b.replaceRange("",{line:a,ch:0},{line:a})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,true)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,true)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,true)},goLineStartSmart:function(d){var a=d.getCursor();var b=d.getLine(a.line),c=Math.max(0,b.search(/\S/));d.setCursor(a.line,a.ch<=c&&a.ch?0:c,true)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,true)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},defaultTab:function(a){if(a.somethingSelected()){a.indentSelection("add")}else{a.replaceSelection("\t","end")}},transposeChars:function(c){var a=c.getCursor(),b=c.getLine(a.line);if(a.ch>0&&a.ch<b.length-1){c.replaceRange(b.charAt(a.ch)+b.charAt(a.ch-1),{line:a.line,ch:a.ch-1},{line:a.line,ch:a.ch+1})}},newlineAndIndent:function(a){a.replaceSelection("\n","end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}};var a8=a9.keyMap={};a8.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};a8.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};a8.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};a8["default"]=aA?a8.macDefault:a8.pcDefault;a8.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function bs(a){if(typeof a=="string"){return a8[a]}else{return a}}function bi(c,d,e,a,b){function f(j){j=bs(j);var h=j[c];if(h!=null&&a(h)){return true}if(j.nofallthrough){if(b){b()}return true}var i=j.fallthrough;if(i==null){return false}if(Object.prototype.toString.call(i)!="[object Array]"){return f(i)}for(var k=0,g=i.length;k<g;++k){if(f(i[k])){return true}}return false}if(d&&f(d)){return true}return f(e)}function aw(a){var b=av[a5(a,"keyCode")];return b=="Ctrl"||b=="Alt"||b=="Shift"||b=="Mod"}a9.fromTextArea=function(c,a){if(!a){a={}}a.value=c.value;if(!a.tabindex&&c.tabindex){a.tabindex=c.tabindex}if(a.autofocus==null&&c.getAttribute("autofocus")!=null){a.autofocus=true}function f(){c.value=d.getValue()}if(c.form){var g=bc(c.form,"submit",f,true);if(typeof c.form.submit=="function"){var b=c.form.submit;function e(){f();c.form.submit=b;c.form.submit();c.form.submit=e}c.form.submit=e}}c.style.display="none";var d=a9(function(h){c.parentNode.insertBefore(h,c.nextSibling)},a);d.save=f;d.getTextArea=function(){return c};d.toTextArea=function(){f();c.parentNode.removeChild(d.getWrapperElement());c.style.display="";if(c.form){g();if(typeof c.form.submit=="function"){c.form.submit=b}}};return d};function be(a,d){if(d===true){return d}if(a.copyState){return a.copyState(d)}var b={};for(var e in d){var c=d[e];if(c instanceof Array){c=c.concat([])}b[e]=c}return b}a9.copyState=be;function aq(a,b,c){return a.startState?a.startState(b,c):true}a9.startState=aq;function bt(b,a){this.pos=this.start=0;this.string=b;this.tabSize=a||8}bt.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(c){var a=this.string.charAt(this.pos);if(typeof c=="string"){var b=a==c}else{var b=a&&(c.test?c.test(a):c(a))}if(b){++this.pos;return a}},eatWhile:function(b){var a=this.pos;while(this.eat(b)){}return this.pos>a},eatSpace:function(){var a=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(b){var a=this.string.indexOf(b,this.pos);if(a>-1){this.pos=a;return true}},backUp:function(a){this.pos-=a},column:function(){return bg(this.string,this.start,this.tabSize)},indentation:function(){return bg(this.string,null,this.tabSize)},match:function(a,c,d){if(typeof a=="string"){function e(f){return d?f.toLowerCase():f}if(e(this.string).indexOf(e(a),this.pos)==this.pos){if(c!==false){this.pos+=a.length}return true}}else{var b=this.string.slice(this.pos).match(a);if(b&&c!==false){this.pos+=b[0].length}return b}},current:function(){return this.string.slice(this.start,this.pos)}};a9.StringStream=bt;function aF(a,b,c,d){this.from=a;this.to=b;this.style=c;this.marker=d}aF.prototype={attach:function(a){this.marker.set.push(a)},detach:function(a){var b=bd(this.marker.set,a);if(b>-1){this.marker.set.splice(b,1)}},split:function(a,d){if(this.to<=a&&this.to!=null){return null}var b=this.from<a||this.from==null?null:this.from-a+d;var c=this.to==null?null:this.to-a+d;return new aF(b,c,this.style,this.marker)},dup:function(){return new aF(null,null,this.style,this.marker)},clipTo:function(c,e,d,a,b){if(c&&a>this.from&&(a<this.to||this.to==null)){this.from=null}else{if(this.from!=null&&this.from>=e){this.from=Math.max(a,this.from)+b}}if(d&&(e<this.to||this.to==null)&&(e>this.from||this.from==null)){this.to=null}else{if(this.to!=null&&this.to>e){this.to=a<this.to?this.to+b:e}}},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(a){return this.marker==a.marker}};function aN(a){this.from=a;this.to=a;this.line=null}aN.prototype={attach:function(a){this.line=a},detach:function(a){if(this.line==a){this.line=null}},split:function(a,b){if(a<this.from){this.from=this.to=(this.from-a)+b;return this}},isDead:function(){return this.from>this.to},clipTo:function(c,e,d,a,b){if((c||e<this.from)&&(d||a>this.to)){this.from=0;this.to=-1}else{if(this.from>e){this.from=this.to=Math.max(a,this.from)+b}}},sameSet:function(a){return false},find:function(){if(!this.line||!this.line.parent){return null}return{line:a3(this.line),ch:this.from}},clear:function(){if(this.line){var a=bd(this.line.marked,this);if(a!=-1){this.line.marked.splice(a,1)}this.line=null}}};function bq(a,b){this.styles=b||[a,null];this.text=a;this.height=1;this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null;this.stateAfter=this.parent=this.hidden=null}bq.inheritMarks=function(h,e){var a=new bq(h),d=e&&e.marked;if(d){for(var b=0;b<d.length;++b){if(d[b].to==null&&d[b].style){var c=a.marked||(a.marked=[]),f=d[b];var g=f.dup();c.push(g);g.attach(a)}}}return a};bq.prototype={replace:function(d,e,a){var i=[],f=this.marked,c=e==null?this.text.length:e;aD(0,d,this.styles,i);if(a){i.push(a,null)}aD(c,this.text.length,this.styles,i);this.styles=i;this.text=this.text.slice(0,d)+a+this.text.slice(c);this.stateAfter=null;if(f){var b=a.length-(c-d);for(var g=0;g<f.length;++g){var h=f[g];h.clipTo(d==null,d||0,e==null,c,b);if(h.isDead()){h.detach(this);f.splice(g--,1)}}}},split:function(e,g){var a=[g,null],c=this.marked;aD(e,this.text.length,this.styles,a);var b=new bq(g+this.text.slice(e),a);if(c){for(var h=0;h<c.length;++h){var f=c[h];var d=f.split(e,g.length);if(d){if(!b.marked){b.marked=[]}b.marked.push(d);d.attach(b);if(d==f){c.splice(h--,1)}}}}return b},append:function(c){var f=this.text.length,d=c.marked,h=this.marked;this.text+=c.text;aD(0,c.text.length,c.styles,this.styles);if(h){for(var g=0;g<h.length;++g){if(h[g].to==null){h[g].to=f}}}if(d&&d.length){if(!h){this.marked=h=[]}outer:for(var g=0;g<d.length;++g){var e=d[g];if(!e.from){for(var a=0;a<h.length;++a){var b=h[a];if(b.to==f&&b.sameSet(e)){b.to=e.to==null?null:e.to+f;if(b.isDead()){b.detach(this);d.splice(g--,1)}continue outer}}}h.push(e);e.attach(this);e.from+=f;if(e.to!=null){e.to+=f}}}},fixMarkEnds:function(c){var d=this.marked,g=c.marked;if(!d){return}for(var a=0;a<d.length;++a){var e=d[a],f=e.to==null;if(f&&g){for(var b=0;b<g.length;++b){if(g[b].sameSet(e)){f=false;break}}}if(f){e.to=this.text.length}}},fixMarkStarts:function(){var b=this.marked;if(!b){return}for(var a=0;a<b.length;++a){if(b[a].from==null){b[a].from=0}}},addMark:function(a){a.attach(this);if(this.marked==null){this.marked=[]}this.marked.push(a);this.marked.sort(function(b,c){return(b.from||0)-(c.from||0)})},highlight:function(c,g,b){var j=new bt(this.text,b),i=this.styles,a=0;var d=false,f=i[0],k;if(this.text==""&&c.blankLine){c.blankLine(g)}while(!j.eol()){var h=c.token(j,g);var e=this.text.slice(j.start,j.pos);j.start=j.pos;if(a&&i[a-1]==h){i[a-2]+=e}else{if(e){if(!d&&(i[a+1]!=h||(a&&i[a-2]!=k))){d=true}i[a++]=e;i[a++]=h;k=f;f=i[a]}}if(j.pos>5000){i[a++]=this.text.slice(j.pos);i[a++]=null;break}}if(i.length!=a){i.length=a;d=true}if(a&&i[a-2]!=k){d=true}return d||(i.length<5&&this.text.length<10?null:false)},getTokenAt:function(e,a,b){var d=this.text,f=new bt(d);while(f.pos<b&&!f.eol()){f.start=f.pos;var c=e.token(f,a)}return{start:f.start,end:f.pos,string:f.current(),className:c||null,state:a}},indentation:function(a){return bg(this.text,null,a)},getHTML:function(h,G,C,x){var F=[],o=true,t=0;function l(I,K){if(!I){return}if(o&&aJ&&I.charAt(0)==" "){I="\u00a0"+I.slice(1)}o=false;if(I.indexOf("\t")==-1){t+=I.length;var J=ax(I)}else{var J="";for(var H=0;;){var M=I.indexOf("\t",H);if(M==-1){J+=ax(I.slice(H));t+=I.length-H;break}else{t+=M-H;var L=h(t);J+=ax(I.slice(H,M))+L.html;t+=L.width;H=M+1}}}if(K){F.push('<span class="',K,'">',J,"</span>")}else{F.push(J)}}var i=l;if(G!=null){var p=0,z='<span id="'+C+'">';i=function(H,J){var K=H.length;if(G>=p&&G<p+K){if(G>p){l(H.slice(0,G-p),J);if(x){F.push("<wbr>")}}F.push(z);var I=G-p;l(aC?H.slice(I,I+1):H.slice(I),J);F.push("</span>");if(aC){l(H.slice(I+1),J)}G--;p+=K}else{p+=K;l(H,J);if(p==G&&p==d){F.push(z+" </span>")}else{if(p>G+10&&/\s/.test(H)){i=function(){}}}}}}var r=this.styles,n=this.text,w=this.marked;var d=n.length;function v(H){if(!H){return null}return"cm-"+H.replace(/ +/g," cm-")}if(!n&&G==null){i(" ")}else{if(!w||!w.length){for(var g=0,E=0;E<d;g+=2){var s=r[g],e=r[g+1],m=s.length;if(E+m>d){s=s.slice(0,d-E)}E+=m;i(s,v(e))}}else{var q=0,g=0,A="",e,a=0;var b=w[0].from||0,j=[],c=0;function f(){var J;while(c<w.length&&((J=w[c]).from==q||J.from==null)){if(J.style!=null){j.push(J)}++c}b=c<w.length?w[c].from:Infinity;for(var I=0;I<j.length;++I){var H=j[I].to||Infinity;if(H==q){j.splice(I--,1)}else{b=Math.min(H,b)}}}var u=0;while(q<d){if(b==q){f()}var B=Math.min(d,b);while(true){if(A){var y=q+A.length;var D=e;for(var k=0;k<j.length;++k){D=(D?D+" ":"")+j[k].style}i(y>B?A.slice(0,B-q):A,D);if(y>=B){A=A.slice(B-q);q=B;break}q=y}A=r[g++];e=v(r[g++])}}}}return F.join("")},cleanUp:function(){this.parent=null;if(this.marked){for(var b=0,a=this.marked.length;b<a;++b){this.marked[b].detach(this)}}}};function aD(b,a,h,i){for(var d=0,c=0,g=0;c<a;d+=2){var f=h[d],e=c+f.length;if(g==0){if(e>b){i.push(f.slice(b-c,Math.min(f.length,a-c)),h[d+1])}if(e>=b){g=1}}else{if(g==1){if(e>a){i.push(f.slice(0,a-c),h[d+1])}else{i.push(f,h[d+1])}}}c=e}}function aL(c){this.lines=c;this.parent=null;for(var b=0,a=c.length,d=0;b<a;++b){c[b].parent=this;d+=c[b].height}this.height=d}aL.prototype={chunkSize:function(){return this.lines.length},remove:function(c,d,f){for(var g=c,e=c+d;g<e;++g){var b=this.lines[g];this.height-=b.height;b.cleanUp();if(b.handlers){for(var a=0;a<b.handlers.length;++a){f.push(b.handlers[a])}}}this.lines.splice(c,d)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(b,a,c){this.height+=c;this.lines=this.lines.slice(0,b).concat(a).concat(this.lines.slice(b));for(var e=0,d=a.length;e<d;++e){a[e].parent=this}},iterN:function(c,d,a){for(var b=c+d;c<b;++c){if(a(this.lines[c])){return true}}}};function bl(a){this.children=a;var b=0,d=0;for(var c=0,e=a.length;c<e;++c){var f=a[c];b+=f.chunkSize();d+=f.height;f.parent=this}this.size=b;this.height=d;this.parent=null}bl.prototype={chunkSize:function(){return this.size},remove:function(e,f,b){this.size-=f;for(var d=0;d<this.children.length;++d){var g=this.children[d],a=g.chunkSize();if(e<a){var c=Math.min(f,a-e),i=g.height;g.remove(e,c,b);this.height-=i-g.height;if(a==c){this.children.splice(d--,1);g.parent=null}if((f-=c)==0){break}e=0}else{e-=a}}if(this.size-f<25){var h=[];this.collapse(h);this.children=[new aL(h)];this.children[0].parent=this}},collapse:function(c){for(var b=0,a=this.children.length;b<a;++b){this.children[b].collapse(c)}},insert:function(b,a){var c=0;for(var e=0,d=a.length;e<d;++e){c+=a[e].height}this.insertHeight(b,a,c)},insertHeight:function(f,h,i){this.size+=h.length;this.height+=i;for(var e=0,c=this.children.length;e<c;++e){var g=this.children[e],b=g.chunkSize();if(f<=b){g.insertHeight(f,h,i);if(g.lines&&g.lines.length>50){while(g.lines.length>50){var d=g.lines.splice(g.lines.length-25,25);var a=new aL(d);g.height-=a.height;this.children.splice(e+1,0,a);a.parent=this}this.maybeSpill()}break}f-=b}},maybeSpill:function(){if(this.children.length<=10){return}var a=this;do{var c=a.children.splice(a.children.length-5,5);var b=new bl(c);if(!a.parent){var e=new bl(a.children);e.parent=a;a.children=[e,b];a=e}else{a.size-=b.size;a.height-=b.height;var d=bd(a.parent.children,a);a.parent.children.splice(d+1,0,b)}b.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(c,d,e){for(var b=0,g=this.children.length;b<g;++b){var f=this.children[b],h=f.chunkSize();if(c<h){var a=Math.min(d,h-c);if(f.iterN(c,a,e)){return true}if((d-=a)==0){break}c=0}else{c-=h}}}};function aV(d,e){while(!d.lines){for(var c=0;;++c){var a=d.children[c],b=a.chunkSize();if(e<b){d=a;break}e-=b}}return d.lines[e]}function a3(d){if(d.parent==null){return null}var e=d.parent,f=bd(e.lines,d);for(var c=e.parent;c;e=c,c=c.parent){for(var b=0,a=c.children.length;;++b){if(c.children[b]==e){break}f+=c.children[b].chunkSize()}}return f}function a4(b,d){var f=0;outer:do{for(var e=0,c=b.children.length;e<c;++e){var g=b.children[e],h=g.height;if(d<h){b=g;continue outer}d-=h;f+=g.chunkSize()}return f}while(!b.lines);for(var e=0,c=b.lines.length;e<c;++e){var i=b.lines[e],a=i.height;if(d<a){break}d-=a}return f+e}function bn(d,e){var b=0;outer:do{for(var c=0,g=d.children.length;c<g;++c){var f=d.children[c],a=f.chunkSize();if(e<a){d=f;continue outer}e-=a;b+=f.height}return b}while(!d.lines);for(var c=0;c<e;++c){b+=d.lines[c].height}return b}function bj(){this.time=0;this.done=[];this.undone=[];this.compound=0;this.closed=false}bj.prototype={addChange:function(h,c,g){this.undone.length=0;var f=+new Date,a=this.done[this.done.length-1],j=a&&a[a.length-1];var d=f-this.time;if(this.compound&&a&&!this.closed){a.push({start:h,added:c,old:g})}else{if(d>400||!j||this.closed||j.start>h+g.length||j.start+j.added<h){this.done.push([{start:h,added:c,old:g}]);this.closed=false}else{var b=Math.max(0,j.start-h),i=Math.max(0,(h+g.length)-(j.start+j.added));for(var e=b;e>0;--e){j.old.unshift(g[e-1])}for(var e=i;e>0;--e){j.old.push(g[g.length-e])}if(b){j.start=h}j.added+=c-(g.length-b-i)}}this.time=f},startCompound:function(){if(!this.compound++){this.closed=true}},endCompound:function(){if(!--this.compound){this.closed=true}}};function aH(){a7(this)}function ay(a){if(!a.stop){a.stop=aH}return a}function at(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}}function aT(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}}function a7(a){at(a);aT(a)}a9.e_stop=a7;a9.e_preventDefault=at;a9.e_stopPropagation=aT;function bk(a){return a.target||a.srcElement}function a6(a){if(a.which){return a.which}else{if(a.button&1){return 1}else{if(a.button&2){return 3}else{if(a.button&4){return 2}}}}}function a5(b,a){var c=b.override&&b.override.hasOwnProperty(a);return c?b.override[a]:b[a]}function bc(a,b,c,d){if(typeof a.addEventListener=="function"){a.addEventListener(b,c,false);if(d){return function(){a.removeEventListener(b,c,false)}}}else{var e=function(f){c(f||window.event)};a.attachEvent("on"+b,e);if(d){return function(){a.detachEvent("on"+b,e)}}}}a9.connect=bc;function a2(){this.id=null}a2.prototype={set:function(b,a){clearTimeout(this.id);this.id=setTimeout(a,b)}};var aX=a9.Pass={toString:function(){return"CodeMirror.Pass"}};var az=/gecko\/\d{7}/i.test(navigator.userAgent);var aJ=/MSIE \d/.test(navigator.userAgent);var aW=/MSIE [1-7]\b/.test(navigator.userAgent);var aZ=/MSIE [1-8]\b/.test(navigator.userAgent);var aR=aJ&&document.documentMode==5;var bo=/WebKit\//.test(navigator.userAgent);var aP=/Chrome\//.test(navigator.userAgent);var aC=/Opera\//.test(navigator.userAgent);var bm=/Apple Computer/.test(navigator.vendor);var bh=/KHTML\//.test(navigator.userAgent);var bp=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);var aO=function(){if(aZ){return false}var a=document.createElement("div");return"draggable" in a||"dragDrop" in a}();var br=function(){var a=document.createElement("textarea");a.value="foo\nbar";if(a.value.indexOf("\r")>-1){return"\r\n"}return"\n"}();var bf=/^$/;if(az){bf=/$'/}else{if(bm){bf=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/}else{if(aP){bf=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/}}}function bg(c,d,a){if(d==null){d=c.search(/[^\s\u00a0]/);if(d==-1){d=c.length}}for(var b=0,e=0;b<d;++b){if(c.charAt(b)=="\t"){e+=a-(e%a)}else{++e}}return e}function ba(a){if(a.currentStyle){return a.currentStyle}return window.getComputedStyle(a,null)}function aE(g,i){var e=g.ownerDocument.body;var j=0,a=0,c=false;for(var h=g;h;h=h.offsetParent){var b=h.offsetLeft,f=h.offsetTop;if(h==e){j+=Math.abs(b);a+=Math.abs(f)}else{j+=b,a+=f}if(i&&ba(h).position=="fixed"){c=true}}var d=i&&!c?null:e;for(var h=g.parentNode;h!=d;h=h.parentNode){if(h.scrollLeft!=null){j-=h.scrollLeft;a-=h.scrollTop}}return{left:j,top:a}}if(document.documentElement.getBoundingClientRect!=null){aE=function(a,d){try{var b=a.getBoundingClientRect();b={top:b.top,left:b.left}}catch(e){b={top:0,left:0}}if(!d){if(window.pageYOffset==null){var c=document.documentElement||document.body.parentNode;if(c.scrollTop==null){c=document.body}b.top+=c.scrollTop;b.left+=c.scrollLeft}else{b.top+=window.pageYOffset;b.left+=window.pageXOffset}}return b}}function aK(a){return a.textContent||a.innerText||a.nodeValue||""}function bu(a){if(bb){a.selectionStart=0;a.selectionEnd=a.value.length}else{a.select()}}function aS(a,b){return a.line==b.line&&a.ch==b.ch}function a1(a,b){return a.line<b.line||(a.line==b.line&&a.ch<b.ch)}function aY(a){return{line:a.line,ch:a.ch}}var aI=document.createElement("pre");function ax(a){aI.textContent=a;return aI.innerHTML}if(ax("a")=="\na"){ax=function(a){aI.textContent=a;return aI.innerHTML.slice(1)}}else{if(ax("\t")!="\t"){ax=function(a){aI.innerHTML="";aI.appendChild(document.createTextNode(a));return aI.innerHTML}}}a9.htmlEscape=ax;function ap(a,b){if(!b){return 0}if(!a){return b.length}for(var c=a.length,d=b.length;c>=0&&d>=0;--c,--d){if(a.charAt(c)!=b.charAt(d)){break}}return d+1}function bd(a,d){if(a.indexOf){return a.indexOf(d)}for(var c=0,b=a.length;c<b;++c){if(a[c]==d){return c}}return -1}function aM(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}var a0="\n\nb".split(/\n/).length!=3?function(b){var a=0,c,d=[];while((c=b.indexOf("\n",a))>-1){d.push(b.slice(a,b.charAt(c-1)=="\r"?c-1:c));a=c+1}d.push(b.slice(a));return d}:function(a){return a.split(/\r?\n/)};a9.splitLines=a0;var aQ=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return false}}:function(a){try{var c=a.ownerDocument.selection.createRange()}catch(b){}if(!c||c.parentElement()!=a){return false}return c.compareEndPoints("StartToEnd",c)!=0};a9.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});a9.defineMIME("text/plain","null");var av={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};a9.keyNames=av;(function(){for(var a=0;a<10;a++){av[a+48]=String(a)}for(var a=65;a<=90;a++){av[a]=String.fromCharCode(a)}for(var a=1;a<=12;a++){av[a+111]=av[a+63235]="F"+a}})();return a9})();CodeMirror.defineMode("javascript",function(ad,Z){var aq=ad.indentUnit;var V=Z.json;var aL=function(){function a(g){return{type:g,style:"keyword"}}var d=a("keyword a"),e=a("keyword b"),f=a("keyword c");var c=a("operator"),b={type:"atom",style:"atom"};return{"if":d,"while":d,"with":d,"else":e,"do":e,"try":e,"finally":e,"return":f,"break":f,"continue":f,"new":f,"delete":f,"throw":f,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":c,"typeof":c,"instanceof":c,"true":b,"false":b,"null":b,"undefined":b,"NaN":b,"Infinity":b}}();var Y=/[+\-*&%=<>!?|]/;function U(a,b,c){b.tokenize=c;return c(a,b)}function aF(a,d){var b=false,c;while((c=a.next())!=null){if(c==d&&!b){return false}b=!b&&c=="\\"}return b}var T,ax;function ak(a,b,c){T=a;ax=c;return b}function aB(e,b){var d=e.next();if(d=='"'||d=="'"){return U(e,b,am(d))}else{if(/[\[\]{}\(\),;\:\.]/.test(d)){return ak(d)}else{if(d=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return ak("number","number")}else{if(/\d/.test(d)||d=="-"&&e.eat(/\d/)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return ak("number","number")}else{if(d=="/"){if(e.eat("*")){return U(e,b,aH)}else{if(e.eat("/")){e.skipToEnd();return ak("comment","comment")}else{if(b.reAllowed){aF(e,"/");e.eatWhile(/[gimy]/);return ak("regexp","string-2")}else{e.eatWhile(Y);return ak("operator",null,e.current())}}}}else{if(d=="#"){e.skipToEnd();return ak("error","error")}else{if(Y.test(d)){e.eatWhile(Y);return ak("operator",null,e.current())}else{e.eatWhile(/[\w\$_]/);var a=e.current(),c=aL.propertyIsEnumerable(a)&&aL[a];return(c&&b.kwAllowed)?ak(c.type,c.style,a):ak("variable","variable",a)}}}}}}}}function am(a){return function(b,c){if(!aF(b,a)){c.tokenize=aB}return ak("string","string")}}function aH(a,b){var d=false,c;while(c=a.next()){if(c=="/"&&d){b.tokenize=aB;break}d=(c=="*")}return ak("comment","comment")}var aC={atom:true,number:true,variable:true,string:true,regexp:true};function at(e,c,d,f,b,a){this.indented=e;this.column=c;this.type=d;this.prev=b;this.info=a;if(f!=null){this.align=f}}function ap(a,b){for(var c=a.localVars;c;c=c.next){if(c.name==b){return true}}}function ah(g,c,d,a,f){var e=g.cc;ar.state=g;ar.stream=f;ar.marked=null,ar.cc=e;if(!g.lexical.hasOwnProperty("align")){g.lexical.align=true}while(true){var b=e.length?e.pop():V?ao:an;if(b(d,a)){while(e.length&&e[e.length-1].lex){e.pop()()}if(ar.marked){return ar.marked}if(d=="variable"&&ap(g,a)){return"variable-2"}return c}}}var ar={state:null,column:null,marked:null,cc:null};function aM(){for(var a=arguments.length-1;a>=0;a--){ar.cc.push(arguments[a])}}function af(){aM.apply(null,arguments);return true}function aA(b){var a=ar.state;if(a.context){ar.marked="def";for(var c=a.localVars;c;c=c.next){if(c.name==b){return}}a.localVars={name:b,next:a.localVars}}}var ai={name:"this",next:{name:"arguments"}};function au(){if(!ar.state.context){ar.state.localVars=ai}ar.state.context={prev:ar.state.context,vars:ar.state.localVars}}function av(){ar.state.localVars=ar.state.context.vars;ar.state.context=ar.state.context.prev}function aD(b,a){var c=function(){var d=ar.state;d.lexical=new at(d.indented,ar.stream.column(),b,null,d.lexical,a)};c.lex=true;return c}function ag(){var a=ar.state;if(a.lexical.prev){if(a.lexical.type==")"){a.indented=a.lexical.indented}a.lexical=a.lexical.prev}}ag.lex=true;function aK(a){return function b(c){if(c==a){return af()}else{if(a==";"){return aM()}else{return af(arguments.callee)}}}}function an(a){if(a=="var"){return af(aD("vardef"),ac,aK(";"),ag)}if(a=="keyword a"){return af(aD("form"),ao,an,ag)}if(a=="keyword b"){return af(aD("form"),an,ag)}if(a=="{"){return af(aD("}"),az,ag)}if(a==";"){return af()}if(a=="function"){return af(aE)}if(a=="for"){return af(aD("form"),aK("("),aD(")"),aG,aK(")"),ag,an,ag)}if(a=="variable"){return af(aD("stat"),aj)}if(a=="switch"){return af(aD("form"),ao,aD("}","switch"),aK("{"),az,ag,ag)}if(a=="case"){return af(ao,aK(":"))}if(a=="default"){return af(aK(":"))}if(a=="catch"){return af(aD("form"),au,aK("("),aw,aK(")"),an,ag,av)}return aM(aD("stat"),ao,aK(";"),ag)}function ao(a){if(aC.hasOwnProperty(a)){return af(aa)}if(a=="function"){return af(aE)}if(a=="keyword c"){return af(al)}if(a=="("){return af(aD(")"),al,aK(")"),ag,aa)}if(a=="operator"){return af(ao)}if(a=="["){return af(aD("]"),X(ao,"]"),ag,aa)}if(a=="{"){return af(aD("}"),X(ay,"}"),ag,aa)}return af()}function al(a){if(a.match(/[;\}\)\],]/)){return aM()}return aM(ao)}function aa(b,a){if(b=="operator"&&/\+\+|--/.test(a)){return af(aa)}if(b=="operator"||b==":"){return af(ao)}if(b==";"){return}if(b=="("){return af(aD(")"),X(ao,")"),ag,aa)}if(b=="."){return af(W,aa)}if(b=="["){return af(aD("]"),ao,aK("]"),ag,aa)}}function aj(a){if(a==":"){return af(ag,an)}return aM(aa,aK(";"),ag)}function W(a){if(a=="variable"){ar.marked="property";return af()}}function ay(a){if(a=="variable"){ar.marked="property"}if(aC.hasOwnProperty(a)){return af(aK(":"),ao)}}function X(b,d){function c(e){if(e==","){return af(b,c)}if(e==d){return af()}return af(aK(d))}return function a(e){if(e==d){return af()}else{return aM(b,c)}}}function az(a){if(a=="}"){return af()}return aM(an,az)}function ac(b,a){if(b=="variable"){aA(a);return af(ae)}return af()}function ae(b,a){if(a=="="){return af(ao,ae)}if(b==","){return af(ac)}}function aG(a){if(a=="var"){return af(ac,aI)}if(a==";"){return aM(aI)}if(a=="variable"){return af(ab)}return aM(aI)}function ab(b,a){if(a=="in"){return af(ao)}return af(aa,aI)}function aI(b,a){if(b==";"){return af(aJ)}if(a=="in"){return af(ao)}return af(ao,aK(";"),aJ)}function aJ(a){if(a!=")"){af(ao)}}function aE(b,a){if(b=="variable"){aA(a);return af(aE)}if(b=="("){return af(aD(")"),au,X(aw,")"),ag,an,av)}}function aw(b,a){if(b=="variable"){aA(a);return af()}}return{startState:function(a){return{tokenize:aB,reAllowed:true,kwAllowed:true,cc:[],lexical:new at((a||0)-aq,0,"block",false),localVars:Z.localVars,context:Z.localVars&&{vars:Z.localVars},indented:0}},token:function(a,b){if(a.sol()){if(!b.lexical.hasOwnProperty("align")){b.lexical.align=false}b.indented=a.indentation()}if(a.eatSpace()){return null}var c=b.tokenize(a,b);if(T=="comment"){return c}b.reAllowed=!!(T=="operator"||T=="keyword c"||T.match(/^[\[{}\(,;:]$/));b.kwAllowed=T!=".";return ah(b,c,T,ax,a)},indent:function(e,d){if(e.tokenize!=aB){return 0}var f=d&&d.charAt(0),b=e.lexical;if(b.type=="stat"&&f=="}"){b=b.prev}var a=b.type,c=f==a;if(a=="vardef"){return b.indented+4}else{if(a=="form"&&f=="{"){return b.indented}else{if(a=="stat"||a=="form"){return b.indented+aq}else{if(b.info=="switch"&&!c){return b.indented+(/^(?:case|default)\b/.test(d)?aq:2*aq)}else{if(b.align){return b.column+(c?0:1)}else{return b.indented+(c?0:aq)}}}}}},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMode("plsql",function(B,x){var v=B.indentUnit,w=x.keywords,y=x.functions,u=x.types,z=x.sqlplus,t=x.multiLineStrings;var C=/[+\-*&%=<>!?:\/|]/;function D(a,b,c){b.tokenize=c;return c(a,b)}var q;function r(a,b){q=a;return b}function A(a,b){var c=a.next();if(c=='"'||c=="'"){return D(a,b,p(c))}else{if(/[\[\]{}\(\),;\.]/.test(c)){return r(c)}else{if(/\d/.test(c)){a.eatWhile(/[\w\.]/);return r("number","number")}else{if(c=="/"){if(a.eat("*")){return D(a,b,s)}else{a.eatWhile(C);return r("operator","operator")}}else{if(c=="-"){if(a.eat("-")){a.skipToEnd();return r("comment","comment")}else{a.eatWhile(C);return r("operator","operator")}}else{if(c=="@"||c=="$"){a.eatWhile(/[\w\d\$_]/);return r("word","variable")}else{if(C.test(c)){a.eatWhile(C);return r("operator","operator")}else{a.eatWhile(/[\w\$_]/);if(w&&w.propertyIsEnumerable(a.current().toLowerCase())){return r("keyword","keyword")}if(y&&y.propertyIsEnumerable(a.current().toLowerCase())){return r("keyword","builtin")}if(u&&u.propertyIsEnumerable(a.current().toLowerCase())){return r("keyword","variable-2")}if(z&&z.propertyIsEnumerable(a.current().toLowerCase())){return r("keyword","variable-3")}return r("word","plsql-word")}}}}}}}}function p(a){return function(b,d){var c=false,e,f=false;while((e=b.next())!=null){if(e==a&&!c){f=true;break}c=!c&&e=="\\"}if(f||!(c||t)){d.tokenize=A}return r("string","plsql-string")}}function s(a,b){var d=false,c;while(c=a.next()){if(c=="/"&&d){b.tokenize=A;break}d=(c=="*")}return r("comment","plsql-comment")}return{startState:function(a){return{tokenize:A,startOfLine:true}},token:function(a,b){if(a.eatSpace()){return null}var c=b.tokenize(a,b);return c}}});(function(){function i(a){var c={},b=a.split(" ");for(var d=0;d<b.length;++d){c[b[d]]=true}return c}var j="abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work";var f="abs acos add_months ascii asin atan atan2 average bfilename ceil chartorowid chr concat convert cos cosh count decode deref dual dump dup_val_on_index empty error exp false floor found glb greatest hextoraw initcap instr instrb isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mod months_between new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null nvl others power rawtohex reftohex round rowcount rowidtochar rpad rtrim sign sin sinh soundex sqlcode sqlerrm sqrt stddev substr substrb sum sysdate tan tanh to_char to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid upper user userenv variance vsize";var g="bfile blob character clob dec float int integer mlslabel natural naturaln nchar nclob number numeric nvarchar2 real rowtype signtype smallint string varchar varchar2";var h="appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap";CodeMirror.defineMIME("text/x-plsql",{name:"plsql",keywords:i(j),functions:i(f),types:i(g),sqlplus:i(h)})}());CodeMirror.defineMode("xml",function(B,P){var I=B.indentUnit;var C=P.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:false}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false};var Z=P.alignCDATA;var U,T;function L(c,d){function f(g){d.tokenize=g;return g(c,d)}var e=c.next();if(e=="<"){if(c.eat("!")){if(c.eat("[")){if(c.match("CDATA[")){return f(D("atom","]]>"))}else{return null}}else{if(c.match("--")){return f(D("comment","-->"))}else{if(c.match("DOCTYPE",true,true)){c.eatWhile(/[\w\._\-]/);return f(A(1))}else{return null}}}}else{if(c.eat("?")){c.eatWhile(/[\w\._\-]/);d.tokenize=D("meta","?>");return"meta"}else{T=c.eat("/")?"closeTag":"openTag";c.eatSpace();U="";var b;while((b=c.eat(/[^\s\u00a0=<>\"\'\/?]/))){U+=b}d.tokenize=M;return"tag"}}}else{if(e=="&"){var a;if(c.eat("#")){if(c.eat("x")){a=c.eatWhile(/[a-fA-F\d]/)&&c.eat(";")}else{a=c.eatWhile(/[\d]/)&&c.eat(";")}}else{a=c.eatWhile(/[\w\.\-:]/)&&c.eat(";")}return a?"atom":"error"}else{c.eatWhile(/[^&<]/);return null}}}function M(b,c){var a=b.next();if(a==">"||(a=="/"&&b.eat(">"))){c.tokenize=L;T=a==">"?"endTag":"selfcloseTag";return"tag"}else{if(a=="="){T="equals";return null}else{if(/[\'\"]/.test(a)){c.tokenize=Q(a);return c.tokenize(b,c)}else{b.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}}}}function Q(a){return function(b,c){while(!b.eol()){if(b.next()==a){c.tokenize=M;break}}return"string"}}function D(b,a){return function(c,d){while(!c.eol()){if(c.match(a)){d.tokenize=L;break}c.next()}return b}}function A(a){return function(b,c){var d;while((d=b.next())!=null){if(d=="<"){c.tokenize=A(a+1);return c.tokenize(b,c)}else{if(d==">"){if(a==1){c.tokenize=L;break}else{c.tokenize=A(a-1);return c.tokenize(b,c)}}}}return"meta"}}var O,S;function Y(){for(var a=arguments.length-1;a>=0;a--){O.cc.push(arguments[a])}}function V(){Y.apply(null,arguments);return true}function R(a,b){var c=C.doNotIndent.hasOwnProperty(a)||(O.context&&O.context.noIndent);O.context={prev:O.context,tagName:a,indent:O.indented,startOfLine:b,noIndent:c}}function F(){if(O.context){O.context=O.context.prev}}function W(a){if(a=="openTag"){O.tagName=U;return V(N,X(O.startOfLine))}else{if(a=="closeTag"){var b=false;if(O.context){if(O.context.tagName!=U){if(C.implicitlyClosed.hasOwnProperty(O.context.tagName.toLowerCase())){F()}b=!O.context||O.context.tagName!=U}}else{b=true}if(b){S="error"}return V(H(b))}}return V()}function X(a){return function(b){if(b=="selfcloseTag"||(b=="endTag"&&C.autoSelfClosers.hasOwnProperty(O.tagName.toLowerCase()))){J(O.tagName.toLowerCase());return V()}if(b=="endTag"){J(O.tagName.toLowerCase());R(O.tagName,a);return V()}return V()}}function H(a){return function(b){if(a){S="error"}if(b=="endTag"){F();return V()}S="error";return V(arguments.callee)}}function J(b){var a;while(true){if(!O.context){return}a=O.context.tagName.toLowerCase();if(!C.contextGrabbers.hasOwnProperty(a)||!C.contextGrabbers[a].hasOwnProperty(b)){return}F()}}function N(a){if(a=="word"){S="attribute";return V(K,N)}if(a=="endTag"||a=="selfcloseTag"){return Y()}S="error";return V(N)}function K(a){if(a=="equals"){return V(E,N)}if(!C.allowMissing){S="error"}return(a=="endTag"||a=="selfcloseTag")?Y():V()}function E(a){if(a=="string"){return V(G)}if(a=="word"&&C.allowUnquoted){S="string";return V()}S="error";return(a=="endTag"||a=="selfCloseTag")?Y():V()}function G(a){if(a=="string"){return V(G)}else{return Y()}}return{startState:function(){return{tokenize:L,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(b,c){if(b.sol()){c.startOfLine=true;c.indented=b.indentation()}if(b.eatSpace()){return null}S=T=U=null;var d=c.tokenize(b,c);c.type=T;if((d||T)&&d!="comment"){O=c;while(true){var a=c.cc.pop()||W;if(a(T||d)){break}}}c.startOfLine=false;return S||d},indent:function(b,a,c){var d=b.context;if((b.tokenize!=M&&b.tokenize!=L)||d&&d.noIndent){return c?c.match(/^(\s*)/)[0].length:0}if(Z&&/<!\[CDATA\[/.test(a)){return 0}if(d&&/^<\//.test(a)){d=d.prev}while(d&&!d.startOfLine){d=d.prev}if(d){return d.indent+I}else{return 0}},compareStates:function(b,d){if(b.indented!=d.indented||b.tokenize!=d.tokenize){return false}for(var c=b.context,a=d.context;;c=c.prev,a=a.prev){if(!c||!a){return c==a}if(c.tagName!=a.tagName){return false}}},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html")){CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true})}CodeMirror.defineMode("css",function(e){var d=e.indentUnit,f;function c(i,j){f=j;return i}function h(k,j){var i=k.next();if(i=="@"){k.eatWhile(/[\w\\\-]/);return c("meta",k.current())}else{if(i=="/"&&k.eat("*")){j.tokenize=a;return a(k,j)}else{if(i=="<"&&k.eat("!")){j.tokenize=b;return b(k,j)}else{if(i=="="){c(null,"compare")}else{if((i=="~"||i=="|")&&k.eat("=")){return c(null,"compare")}else{if(i=='"'||i=="'"){j.tokenize=g(i);return j.tokenize(k,j)}else{if(i=="#"){k.eatWhile(/[\w\\\-]/);return c("atom","hash")}else{if(i=="!"){k.match(/^\s*\w*/);return c("keyword","important")}else{if(/\d/.test(i)){k.eatWhile(/[\w.%]/);return c("number","unit")}else{if(/[,.+>*\/]/.test(i)){return c(null,"select-op")}else{if(/[;{}:\[\]]/.test(i)){return c(null,i)}else{k.eatWhile(/[\w\\\-]/);return c("variable","variable")}}}}}}}}}}}}function a(l,k){var i=false,j;while((j=l.next())!=null){if(i&&j=="/"){k.tokenize=h;break}i=(j=="*")}return c("comment","comment")}function b(l,k){var j=0,i;while((i=l.next())!=null){if(j>=2&&i==">"){k.tokenize=h;break}j=(i=="-")?j+1:0}return c("comment","comment")}function g(i){return function(m,k){var l=false,j;while((j=m.next())!=null){if(j==i&&!l){break}l=!l&&j=="\\"}if(!l){k.tokenize=h}return c("string","string")}}return{startState:function(i){return{tokenize:h,baseIndent:i||0,stack:[]}},token:function(l,k){if(l.eatSpace()){return null}var j=k.tokenize(l,k);var i=k.stack[k.stack.length-1];if(f=="hash"&&i!="rule"){j="string-2"}else{if(j=="variable"){if(i=="rule"){j="number"}else{if(!i||i=="@media{"){j="tag"}}}}if(i=="rule"&&/^[\{\};]$/.test(f)){k.stack.pop()}if(f=="{"){if(i=="@media"){k.stack[k.stack.length-1]="@media{"}else{k.stack.push("{")}}else{if(f=="}"){k.stack.pop()}else{if(f=="@media"){k.stack.push("@media")}else{if(i=="{"&&f!="comment"){k.stack.push("rule")}}}}return j},indent:function(j,i){var k=j.stack.length;if(/^\}/.test(i)){k-=j.stack[j.stack.length-1]=="rule"?2:1}return j.baseIndent+k*d},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("htmlmixed",function(q,o){var r=CodeMirror.getMode(q,{name:"xml",htmlMode:true});var p=CodeMirror.getMode(q,"javascript");var j=CodeMirror.getMode(q,"css");function n(a,b){var c=r.token(a,b.htmlState);if(c=="tag"&&a.current()==">"&&b.htmlState.context){if(/^script$/i.test(b.htmlState.context.tagName)){b.token=k;b.localState=p.startState(r.indent(b.htmlState,""));b.mode="javascript"}else{if(/^style$/i.test(b.htmlState.context.tagName)){b.token=m;b.localState=j.startState(r.indent(b.htmlState,""));b.mode="css"}}}return c}function l(e,d,c){var a=e.current();var b=a.search(d);if(b>-1){e.backUp(a.length-b)}return c}function k(a,b){if(a.match(/^<\/\s*script\s*>/i,false)){b.token=n;b.localState=null;b.mode="html";return n(a,b)}return l(a,/<\/\s*script\s*>/,p.token(a,b.localState))}function m(a,b){if(a.match(/^<\/\s*style\s*>/i,false)){b.token=n;b.localState=null;b.mode="html";return n(a,b)}return l(a,/<\/\s*style\s*>/,j.token(a,b.localState))}return{startState:function(){var a=r.startState();return{token:n,localState:null,mode:"html",htmlState:a}},copyState:function(a){if(a.localState){var b=CodeMirror.copyState(a.token==m?j:p,a.localState)}return{token:a.token,localState:b,mode:a.mode,htmlState:CodeMirror.copyState(r,a.htmlState)}},token:function(a,b){return b.token(a,b)},indent:function(a,b){if(a.token==n||/^\s*<\//.test(b)){return r.indent(a.htmlState,b)}else{if(a.token==k){return p.indent(a.localState,b)}else{return j.indent(a.localState,b)}}},compareStates:function(a,b){if(a.mode!=b.mode){return false}if(a.localState){return CodeMirror.Pass}return r.compareStates(a.htmlState,b.htmlState)},electricChars:"/{}:"}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed");(function(){function b(a,f){var g=a.getWrapperElement();var h=g.insertBefore(document.createElement("div"),g.firstChild);h.className="CodeMirror-dialog";h.innerHTML="<div>"+f+"</div>";return h}CodeMirror.defineExtension("openDialog",function(m,i){var n=b(this,m);var a=false,k=this;function j(){if(a){return}a=true;n.parentNode.removeChild(n)}var l=n.getElementsByTagName("input")[0];if(l){CodeMirror.connect(l,"keydown",function(c){if(c.keyCode==13||c.keyCode==27){CodeMirror.e_stop(c);j();k.focus();if(c.keyCode==13){i(l.value)}}});l.focus();CodeMirror.connect(l,"blur",j)}return j});CodeMirror.defineExtension("openConfirm",function(i,r){var q=b(this,i);var p=q.getElementsByTagName("button");var s=false,o=this,u=1;function a(){if(s){return}s=true;q.parentNode.removeChild(q);o.focus()}p[0].focus();for(var t=0;t<p.length;++t){var n=p[t];(function(c){CodeMirror.connect(n,"click",function(d){CodeMirror.e_preventDefault(d);a();if(c){c(o)}})})(r[t]);CodeMirror.connect(n,"blur",function(){--u;setTimeout(function(){if(u<=0){a()}},200)});CodeMirror.connect(n,"focus",function(){++u})}})})();(function(){function b(a,j,h,k){this.atOccurrence=false;this.cm=a;if(k==null&&typeof j=="string"){k=false}h=h?a.clipPos(h):{line:0,ch:0};this.pos={from:h,to:h};if(typeof j!="string"){this.matches=function(f,p){if(f){var o=a.getLine(p.line).slice(0,p.ch),g=o.match(j),c=0;while(g){var e=o.indexOf(g[0]);c+=e;o=o.slice(e+1);var d=o.match(j);if(d){g=d}else{break}c++}}else{var o=a.getLine(p.line).slice(p.ch),g=o.match(j),c=g&&p.ch+o.indexOf(g[0])}if(g){return{from:{line:p.line,ch:c},to:{line:p.line,ch:c+g[0].length},match:g}}}}else{if(k){j=j.toLowerCase()}var l=k?function(c){return c.toLowerCase()}:function(c){return c};var i=j.split("\n");if(i.length==1){this.matches=function(d,c){var f=l(a.getLine(c.line)),g=j.length,e;if(d?(c.ch>=g&&(e=f.lastIndexOf(j,c.ch-g))!=-1):(e=f.indexOf(j,c.ch))!=-1){return{from:{line:c.line,ch:e},to:{line:c.line,ch:e+g}}}}}else{this.matches=function(g,e){var f=e.line,d=(g?i.length-1:0),s=i[d],c=l(a.getLine(f));var r=(g?c.indexOf(s)+s.length:c.lastIndexOf(s));if(g?r>=e.ch||r!=s.length:r<=e.ch||r!=c.length-s.length){return}for(;;){if(g?!f:f==a.lineCount()-1){return}c=l(a.getLine(f+=g?-1:1));s=i[g?--d:++d];if(d>0&&d<i.length-1){if(c!=s){return}else{continue}}var t=(g?c.lastIndexOf(s):c.indexOf(s)+s.length);if(g?t!=c.length-s.length:t!=s.length){return}var v={line:e.line,ch:r},u={line:f,ch:t};return{from:g?u:v,to:g?v:u}}}}}}b.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(j){var a=this,g=this.cm.clipPos(j?this.pos.from:this.pos.to);function i(d){var c={line:d,ch:0};a.pos={from:c,to:c};a.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(j,g)){this.atOccurrence=true;return this.pos.match||true}if(j){if(!g.line){return i(0)}g={line:g.line-1,ch:this.cm.getLine(g.line-1).length}}else{var h=this.cm.lineCount();if(g.line==h-1){return i(h)}g={line:g.line+1,ch:0}}}},from:function(){if(this.atOccurrence){return this.pos.from}},to:function(){if(this.atOccurrence){return this.pos.to}},replace:function(d){var a=this;if(this.atOccurrence){a.pos.to=this.cm.replaceRange(d,a.pos.from,a.pos.to)}}};CodeMirror.defineExtension("getSearchCursor",function(f,e,a){return new b(this,f,e,a)})})();(function(){function r(){this.posFrom=this.posTo=this.query=null;this.marked=[]}function w(a){return a._searchState||(a._searchState=new r())}function p(c,b,a){return c.getSearchCursor(b,a,typeof b=="string"&&b==b.toLowerCase())}function s(d,a,c,b){if(d.openDialog){d.openDialog(a,b)}else{b(prompt(c,""))}}function o(c,a,b,d){if(c.openConfirm){c.openConfirm(a,d)}else{if(confirm(b)){d[0]()}}}function z(a){var b=a.match(/^\/(.*)\/([a-z]*)$/);return b?new RegExp(b[1],b[2].indexOf("i")==-1?"":"i"):a}var A='Search: <input type="text" style="width: 16em"/>';function t(c,b){var a=w(c);if(a.query){return v(c,b)}s(c,A,"Search for:",function(d){c.operation(function(){if(!d||a.query){return}a.query=z(d);if(c.lineCount()<2000){for(var e=p(c,d);e.findNext();){a.marked.push(c.markText(e.from(),e.to(),"CodeMirror-searching"))}}a.posFrom=a.posTo=c.getCursor();v(c,b)})})}function v(b,a){b.operation(function(){var d=w(b);var c=p(b,d.query,a?d.posFrom:d.posTo);if(!c.find(a)){c=p(b,d.query,a?{line:b.lineCount()-1}:{line:0,ch:0});if(!c.find(a)){return}}b.setSelection(c.from(),c.to());d.posFrom=c.from();d.posTo=c.to()})}function q(a){a.operation(function(){var b=w(a);if(!b.query){return}b.query=null;for(var c=0;c<b.marked.length;++c){b.marked[c].clear()}b.marked.length=0})}var x='Replace: <input type="text" style="width: 16em"/>';var u='With: <input type="text" style="width: 16em"/>';var y="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";function B(b,a){s(b,x,"Replace:",function(c){if(!c){return}c=z(c);s(b,u,"Replace with:",function(d){if(a){b.compoundChange(function(){b.operation(function(){for(var h=p(b,c);h.findNext();){if(typeof c!="string"){var i=b.getRange(h.from(),h.to()).match(c);h.replace(d.replace(/\$(\d)/,function(j,k){return i[k]}))}else{h.replace(d)}}})})}else{q(b);var e=p(b,c,b.getCursor());function f(){var h=e.from(),i;if(!(i=e.findNext())){e=p(b,c);if(!(i=e.findNext())||(h&&e.from().line==h.line&&e.from().ch==h.ch)){return}}b.setSelection(e.from(),e.to());o(b,y,"Replace?",[function(){g(i)},f])}function g(h){e.replace(typeof c=="string"?d:d.replace(/\$(\d)/,function(i,j){return h[j]}));f()}f()}})})}CodeMirror.commands.find=function(a){q(a);t(a)};CodeMirror.commands.findNext=t;CodeMirror.commands.findPrev=function(a){t(a,true)};CodeMirror.commands.clearSearch=q;CodeMirror.commands.replace=B;CodeMirror.commands.replaceAll=function(a){B(a,true)}})();